<typesystem package="com.trolltech.qt.gui" default-superclass="com.trolltech.qt.QtJambiObject">
  <inject-code>
    com.trolltech.qt.Utilities.loadQtLibrary("QtGui");
  </inject-code>
  
    <template name="gui.getter_returning_nativepointer">
        public final %RETURN_TYPE %FUNCTION_NAME() {
            QNativePointer np = %FUNCTION_NAME_private();
            %RETURN_TYPE tmp = np == null ? null : %RETURN_TYPE.fromNativePointer(np);
            return tmp == null ? null : new %RETURN_TYPE(tmp);
        }    
        
    </template>
    
    <template name="gui.init_style_option">
        protected final void initStyleOption(%TYPE option) {
            initStyleOption(option.nativePointer());
        }
    </template>

    <template name="gui.convert_validationdata_to_java">
        StaticCache *sc = StaticCache::instance(__jni_env);
        sc->resolveValidationData();
        jstring __qt_converted_input = qtjambi_from_qstring(__jni_env, %STRING);
        jobject %out = __jni_env->NewObject(sc->ValidationData.class_ref, sc->ValidationData.constructor, __qt_converted_input, %POS);
        jobject __java_validation_data = %out;
    </template>        

    <template name="gui.cleanup_validationdata_from_java">
        __jni_env->SetIntField(%1, sc->ValidationData.position, *__position_ptr);
        __jni_env->SetObjectField(%1, sc->ValidationData.string, qtjambi_from_qstring(__jni_env, *__string_ptr));
    </template>
    
    <template name="gui.convert_validationdata_to_string">
        StaticCache *sc = StaticCache::instance(__jni_env);
        sc->resolveValidationData();
        jstring __java_string = (jstring) __jni_env->GetObjectField(%in, sc->ValidationData.string);
        QString %out = __java_string == 0 ? QString() : qtjambi_to_qstring(__jni_env, __java_string);
        QString *__string_ptr = &amp;%out;                
    </template>        

    <template name="gui.convert_validationdata_to_pos">
        int %out = __jni_env->GetIntField(%1, sc->ValidationData.position);                
        int *__position_ptr = &amp;%out;
    </template>

    <template name="gui.cleanup_validationdata_to_java">
        jstring __java_string = (jstring) __jni_env->GetObjectField(__java_validation_data, sc->ValidationData.string);
        %STRING = __java_string == 0 ? QString() : qtjambi_to_qstring(__jni_env, __java_string);
        %POS = __jni_env->GetIntField(__java_validation_data, sc->ValidationData.position);
    </template>
    
    <template name="gui.convert_object_array_to_java">
        jobjectArray %out = 0;
    
        {
            jclass __resolved_class = resolveClass(__jni_env, "%CLASSNAME_ARRAY", "%PACKAGE_ARRAY");
            QTJAMBI_EXCEPTION_CHECK(__jni_env);
            Q_ASSERT(__resolved_class != 0);    
            
            %out = %in == 0 ? 0 : __jni_env->NewObjectArray(%LENGTH, __resolved_class, 0);
            QTJAMBI_EXCEPTION_CHECK(__jni_env);
            if (%out != 0) {
                for (int i=0; i&lt;%LENGTH; ++i) {
                    __jni_env->SetObjectArrayElement(%out, i, qtjambi_from_object(__jni_env, %REFERENCE %in[i], "%CLASSNAME", "%PACKAGE", %LOOKUP true));
                }
            }                  
       }
    </template>
    
    <template name="gui.convert_graphicsitem_array_to_java">
        <insert-template name="gui.convert_object_array_to_java">
            <replace from="%CLASSNAME_ARRAY" to="QGraphicsItemInterface" />
            <replace from="%PACKAGE_ARRAY" to="com/trolltech/qt/gui/" />
            <replace from="%CLASSNAME" to="QGraphicsItem$ConcreteWrapper" />
            <replace from="%PACKAGE" to="com/trolltech/qt/gui/" />
            <replace from="%LOOKUP" to="" />
            <replace from="%REFERENCE" to="" />
        </insert-template>
    </template>

    <template name="gui.convert_styleoptiongraphicsitem_array_to_java">
        <insert-template name="gui.convert_object_array_to_java">
            <replace from="%CLASSNAME_ARRAY" to="QStyleOptionGraphicsItem" />
            <replace from="%PACKAGE_ARRAY" to="com/trolltech/qt/gui/" />
            <replace from="%CLASSNAME" to="QStyleOptionGraphicsItem" />
            <replace from="%PACKAGE" to="com/trolltech/qt/gui/" /> 
            <replace from="%LOOKUP" to="&quot;Lcom_trolltech_qt_gui_QStyleOption_2&quot;," />
            <replace from="%REFERENCE" to="&amp;" />
        </insert-template>
    </template>

    <template name="gui.convert_interface_array_from_java">    
        %CLASSNAME *%out = 0;
        QVarLengthArray&lt;%CLASSNAME, 256> __interfaceArray(__length);                
        if (%in != 0) {
            for (int i=0; i&lt;__length; ++i) {
                __interfaceArray[i] = (%CLASSNAME) %CONVERSION_FUNCTION(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i) %EXTRA);
            }
        }
        %out = %in == 0 ? 0 : __interfaceArray.data();    
    </template>

    <template name="gui.convert_object_array_from_java">    
        %CLASSNAME *%out = 0;
        QVarLengthArray&lt;%CLASSNAME, 256> __array(__length);                
        if (%in != 0) {
            for (int i=0; i&lt;__length; ++i) {
                __array[i] = *(%CLASSNAME *) %CONVERSION_FUNCTION(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i) %EXTRA);
            }
        }
        %out = %in == 0 ? 0 : __array.data();    
    </template>
    
    <template name="gui.convert_graphicsitem_array_from_java">
        <insert-template name="gui.convert_interface_array_from_java">
            <replace from="%CLASSNAME" to="QGraphicsItem *" />
            <replace from="%EXTRA" to=", &quot;QGraphicsItemInterface&quot;, &quot;com/trolltech/qt/gui/&quot;, &quot;__qt_cast_to_QGraphicsItem&quot;" />
            <replace from="%CONVERSION_FUNCTION" to="qtjambi_to_interface" />
        </insert-template>            
    </template>

        
    <template name="gui.convert_styleoptiongraphicsitem_array_from_java">
        <insert-template name="gui.convert_object_array_from_java">
            <replace from="%CLASSNAME" to="QStyleOptionGraphicsItem" />
            <replace from="%EXTRA" to="" />
            <replace from="%CONVERSION_FUNCTION" to="qtjambi_to_object" />
        </insert-template>
    </template>

  <rejection class="*" function-name="d_func"/>

  <rejection class="*" field-name="d_ptr"/>
  <rejection class="*" field-name="d"/>

  <rejection class="QAbstractUndoItem"/>    
  <rejection class="QAccessibleApplication"/>
  <rejection class="QAccessibleBridgeFactoryInterface"/>
  <rejection class="QAccessibleBridgePlugin"/>
  <rejection class="QAccessibleFactoryInterface"/>
  <rejection class="QAccessiblePlugin"/>
  <rejection class="QBrushData"/>
  <rejection class="QIconEngineFactoryInterface"/>
  <rejection class="QIconEngineFactoryInterfaceV2"/>
  <rejection class="QIconEnginePluginV2"/>
  <rejection class="QIconEnginePlugin"/>
  <rejection class="QImageIOHandlerFactoryInterface"/>
  <rejection class="QImageIOPlugin"/>
  <rejection class="QImageTextKeyLang"/>
  <rejection class="QInputContextFactoryInterface"/>
  <rejection class="QInputContextPlugin"/>
  <rejection class="QItemEditorCreator"/>
  <rejection class="QLibrary"/>
  <rejection class="QLinkedList"/>
  <rejection class="QLinkedListData"/>
  <rejection class="QLinkedListIterator"/>
  <rejection class="QLinkedListNode"/>
  <rejection class="QMimeSource"/>
  <rejection class="QPainterPathPrivate"/>
  <rejection class="QPictureFormatInterface"/>
  <rejection class="QPictureFormatPlugin"/>
  <rejection class="QRegionData"/>
  <rejection class="QStandardItemEditorCreator"/>
  <rejection class="QStyleFactoryInterface"/>
  <rejection class="QStyleOptionQ3DockWindow"/>
  <rejection class="QStyleOptionQ3ListView"/>
  <rejection class="QStyleOptionQ3ListViewItem"/>
  <rejection class="QStylePlugin"/>
  <rejection class="QTextCodecFactoryInterface"/>
  <rejection class="QTextCodecPlugin"/>
  <rejection class="QTextFrameLayoutData"/>
  <rejection class="QUpdateLaterEvent"/>
  <rejection class="QVFbHeader"/>
  <rejection class="QWidgetData"/>
  <rejection class="QWindowSurface"/>
  <rejection class="QWindowsXPStyle"/>
  <rejection class="QWindowsVistaStyle" />
  <rejection class="QWSEmbedWidget" />
  <rejection class="QRegion::QRegionData" />
    
  <rejection class="QAbstractItemDelegate" function-name="operator="/>
  <rejection class="QAccessible" function-name="installFactory"/>
  <rejection class="QAccessible" function-name="installRootObjectHandler"/>
  <rejection class="QAccessible" function-name="installUpdateHandler"/>
  <rejection class="QAccessible" function-name="removeFactory"/>
  <rejection class="QApplication" function-name="compressEvent"/>
  <rejection class="QBrush" function-name="cleanUp"/>
  <rejection class="QPictureIO" function-name="defineIOHandler"/>
  <rejection class="QPolygon" function-name="putPoints"/>
  <rejection class="QPolygon" function-name="setPoints"/>
  <rejection class="QPolygon" function-name="setPoint"/>
  <rejection class="QPolygon" function-name="points"/>
  <rejection class="QPolygon" function-name="point"/>
  <rejection class="QPrinter" function-name="printerSelectionOption"/>
  <rejection class="QPrinter" function-name="setPrinterSelectionOption"/>
  <rejection class="QWidget" function-name="create"/>
  <rejection class="QWidget" function-name="find"/>
  <rejection class="QWidget" function-name="handle"/>
  <rejection class="QWidget" function-name="styleChange"/>
  <rejection class="QWidget" function-name="internalWinId"/>
  <rejection class="QActionGroup" function-name="selected"/> 
  <rejection class="QPaintEngine" function-name="fix_neg_rect"/>           
  <rejection class="QTreeModel" function-name="node"/>
  <rejection class="QTreeModel" function-name="initializeNode"/>
  <rejection class="QTreeModel" function-name="queryChildren"/>
  <rejection class="QAccessible" function-name="cast_helper" />
  
  <rejection class="QTabletEvent" field-name="mExtra" />  

  <enum-type name="QAbstractItemDelegate::EndEditHint"/>
  <enum-type name="QAbstractItemView::CursorAction"/>
  <enum-type name="QAbstractItemView::DragDropMode"/>
  <enum-type name="QAbstractItemView::DropIndicatorPosition"/>
  <enum-type name="QAbstractItemView::EditTrigger" flags="QAbstractItemView::EditTriggers"/>
  <enum-type name="QAbstractItemView::ScrollHint"/>
  <enum-type name="QAbstractItemView::ScrollMode"/>
  <enum-type name="QAbstractItemView::SelectionBehavior"/>
  <enum-type name="QAbstractItemView::SelectionMode"/>
  <enum-type name="QAbstractItemView::State"/>
  <enum-type name="QAbstractPrintDialog::PrintDialogOption" flags="QAbstractPrintDialog::PrintDialogOptions"/>
  <enum-type name="QAbstractPrintDialog::PrintRange"/>
  <enum-type name="QAbstractSlider::SliderAction"/>
  <enum-type name="QAbstractSlider::SliderChange"/>
  <enum-type name="QAbstractSpinBox::ButtonSymbols"/>
  <enum-type name="QAbstractSpinBox::CorrectionMode"/>
  <enum-type name="QAbstractSpinBox::StepEnabledFlag" flags="QAbstractSpinBox::StepEnabled"/>
  <enum-type name="QAccessible::Event"/>
  <enum-type name="QAccessible::Method"/>
  <enum-type name="QAccessible::RelationFlag" flags="QAccessible::Relation"/>
  <enum-type name="QAccessible::Role"/>
  <enum-type name="QAccessible::StateFlag" flags="QAccessible::State"/>
  <enum-type name="QAccessible::Text"/>
  <enum-type name="QAccessible2::BoundaryType" />
  <enum-type name="QAccessible2::CoordinateType" />
  <enum-type name="QAccessible2::InterfaceType" />
  <enum-type name="QMdiArea::AreaOption" flags="QMdiArea::AreaOptions" />
  <enum-type name="QMdiArea::WindowOrder" />
  <enum-type name="QMdiSubWindow::SubWindowOption" flags="QMdiSubWindow::SubWindowOptions" />
 
  <enum-type name="QAction::ActionEvent"/>
  <enum-type name="QAction::MenuRole"/>
  <enum-type name="QApplication::ColorSpec"/>
  <enum-type name="QApplication::Type"/>
  <enum-type name="QCalendarWidget::HorizontalHeaderFormat"/>
  <enum-type name="QCalendarWidget::SelectionMode"/>
  <enum-type name="QCalendarWidget::VerticalHeaderFormat"/>
  <enum-type name="QColor::Spec"/>
  <enum-type name="QColormap::Mode"/>
  <enum-type name="QComboBox::InsertPolicy"/>
  <enum-type name="QComboBox::SizeAdjustPolicy"/>
  <enum-type name="QCompleter::CompletionMode"/>
  <enum-type name="QCompleter::ModelSorting"/>
  <enum-type name="QContextMenuEvent::Reason"/>
  <enum-type name="QDataWidgetMapper::SubmitPolicy"/>
  <enum-type name="QDateTimeEdit::Section" flags="QDateTimeEdit::Sections"/>
  <enum-type name="QDialog::DialogCode"/>
  <enum-type name="QDialogButtonBox::ButtonLayout"/>
  <enum-type name="QDialogButtonBox::ButtonRole"/>
  <enum-type name="QFileDialog::AcceptMode"/>
  <enum-type name="QFileDialog::DialogLabel"/>
  <enum-type name="QFileDialog::FileMode"/>
  <enum-type name="QFileDialog::Option" flags="QFileDialog::Options"/>
  <enum-type name="QFileDialog::ViewMode"/>
  <enum-type name="QFileIconProvider::IconType"/>
  <enum-type name="QFont::FontWeight"/>
  <enum-type name="QFont::Stretch"/>
  <enum-type name="QFont::Style"/>
  <enum-type name="QFont::StyleStrategy"/>
  <enum-type name="QFont::Weight"/>
  <enum-type name="QFontComboBox::FontFilter" flags="QFontComboBox::FontFilters"/>
  <enum-type name="QFrame::FrameFlags"/>
  <enum-type name="QFrame::Shadow" extensible="yes"/>
  <enum-type name="QFrame::Shape"/>
  <enum-type name="QFrame::StyleMask"/>
  <enum-type name="QFrame::enum_1"/>
  <enum-type name="QGradient::CoordinateMode"/>
  <enum-type name="QGradient::Spread" lower-bound="QGradient.PadSpread" upper-bound="QGradient.RepeatSpread"/>
  <enum-type name="QGradient::Type"/>
  <enum-type name="QGraphicsEllipseItem::enum_1"/>
  <enum-type name="QGraphicsItem::Extension"/>
  <enum-type name="QGraphicsItem::GraphicsItemChange"/>
  <enum-type name="QGraphicsItem::GraphicsItemFlag" flags="QGraphicsItem::GraphicsItemFlags"/>
  <enum-type name="QGraphicsItem::enum_1"/>
  <enum-type name="QGraphicsItemGroup::enum_1"/>
  <enum-type name="QGraphicsLineItem::enum_1"/>
  <enum-type name="QGraphicsPathItem::enum_1"/>
  <enum-type name="QGraphicsPixmapItem::ShapeMode"/>
  <enum-type name="QGraphicsPixmapItem::enum_1"/>
  <enum-type name="QGraphicsPolygonItem::enum_1"/>
  <enum-type name="QGraphicsRectItem::enum_1"/>
  <enum-type name="QGraphicsScene::ItemIndexMethod"/>
  <enum-type name="QGraphicsSceneContextMenuEvent::Reason"/>
  <enum-type name="QGraphicsSimpleTextItem::enum_1"/>
  <enum-type name="QGraphicsTextItem::enum_1"/>
  <enum-type name="QGraphicsView::CacheModeFlag" flags="QGraphicsView::CacheMode"/>
  <enum-type name="QGraphicsView::DragMode"/>
  <enum-type name="QGraphicsView::OptimizationFlag" flags="QGraphicsView::OptimizationFlags" />
  <enum-type name="QGraphicsView::ViewportAnchor"/>
  <enum-type name="QGraphicsView::ViewportUpdateMode" />  
  <enum-type name="QIcon::Mode"/>
  <enum-type name="QIcon::State"/>
  <enum-type name="QImage::Format"/>
  <enum-type name="QImage::InvertMode"/>
  <enum-type name="QImageIOHandler::ImageOption"/>
  <enum-type name="QImageIOPlugin::Capability" flags="QImageIOPlugin::Capabilitys"/>
  <enum-type name="QImageReader::ImageReaderError"/>
  <enum-type name="QImageWriter::ImageWriterError"/>
  <enum-type name="QInputContext::StandardFormat"/>
  <enum-type name="QInputMethodEvent::AttributeType"/>
  <enum-type name="QItemSelectionModel::SelectionFlag" flags="QItemSelectionModel::SelectionFlags"/>
  <enum-type name="QKeySequence::SequenceFormat"/>
  <enum-type name="QKeySequence::SequenceMatch"/>
  <enum-type name="QKeySequence::StandardKey"/>
  <enum-type name="QLCDNumber::Mode"/>
  <enum-type name="QLCDNumber::SegmentStyle"/>
  <enum-type name="QLayout::SizeConstraint"/>
  <enum-type name="QLineEdit::EchoMode"/>
  <enum-type name="QLineF::IntersectType"/>
  <enum-type name="QListView::Flow"/>
  <enum-type name="QListView::LayoutMode"/>
  <enum-type name="QListView::Movement"/>
  <enum-type name="QListView::ResizeMode"/>
  <enum-type name="QListView::ViewMode"/>
  <enum-type name="QListWidgetItem::ItemType"/>
  <enum-type name="QListWidgetItem::enum_1"/>
  <enum-type name="QMainWindow::DockOption" flags="QMainWindow::DockOptions" />
  <enum-type name="QMessageBox::Button"/>
  <enum-type name="QMessageBox::ButtonRole"/>
  <enum-type name="QMessageBox::Icon"/>
  <enum-type name="QMovie::CacheMode"/>
  <enum-type name="QMovie::MovieState"/>
  <enum-type name="QPaintDevice::PaintDeviceMetric"/>
  <enum-type name="QPaintEngine::DirtyFlag" flags="QPaintEngine::DirtyFlags"/>
  <enum-type name="QPaintEngine::PaintEngineFeature" flags="QPaintEngine::PaintEngineFeatures"/>
  <enum-type name="QPaintEngine::PolygonDrawMode"/>
  <enum-type name="QPaintEngine::Type"/>
  <enum-type name="QPainter::CompositionMode"/>
  <enum-type name="QPainter::RenderHint" flags="QPainter::RenderHints"/>
  <enum-type name="QPainterPath::ElementType"/>
  <enum-type name="QPrintEngine::PrintEnginePropertyKey"/>
  <enum-type name="QPrinter::ColorMode"/>
  <enum-type name="QPrinter::Orientation"/>
  <enum-type name="QPrinter::OutputFormat"/>
  <enum-type name="QPrinter::PageOrder"/>
  <enum-type name="QPrinter::PaperSource"/>
  <enum-type name="QPrinter::PrintRange"/>
  <enum-type name="QPrinter::PrinterMode"/>
  <enum-type name="QPrinter::PrinterState"/>
  <enum-type name="QProgressBar::Direction"/>
  <enum-type name="QRegion::RegionType"/>
  <enum-type name="QRubberBand::Shape"/>
  <enum-type name="QSessionManager::RestartHint"/>
  <enum-type name="QSizePolicy::Policy"/>
  <enum-type name="QSizePolicy::PolicyFlag"/>
  <enum-type name="QSizePolicy::ControlType" flags="QSizePolicy::ControlTypes" />
  <enum-type name="QSizePolicy::SizePolicyMasks"/>
  <enum-type name="QStandardItem::ItemType"/>
  <enum-type name="QStyle::SubControl" flags="QStyle::SubControls" extensible="yes" force-integer="yes"/>
  <enum-type name="QStyle::ComplexControl" extensible="yes"/>
  <enum-type name="QStyle::ContentsType" extensible="yes"/>
  <enum-type name="QStyle::ControlElement" extensible="yes"/>
  <enum-type name="QStyle::PixelMetric" extensible="yes"/>
  <enum-type name="QStyle::PrimitiveElement" extensible="yes"/>
  <enum-type name="QStyle::StandardPixmap" extensible="yes"/>
  <enum-type name="QStyle::StateFlag" flags="QStyle::State"/>
  <enum-type name="QStyle::SubElement" extensible="yes"/>
  <enum-type name="QStyleHintReturn::HintReturnType"/>
  <enum-type name="QStyleHintReturn::StyleOptionType"/>
  <enum-type name="QStyleHintReturn::StyleOptionVersion"/>
  <enum-type name="QStyleHintReturnVariant::StyleOptionType" />
  <enum-type name="QStyleHintReturnVariant::StyleOptionVersion" />

  <enum-type name="QStyleHintReturn::enum_1"/>
  <enum-type name="QStyleHintReturn::enum_2"/>
  <enum-type name="QStyleHintReturnMask::StyleOptionType"/>
  <enum-type name="QStyleHintReturnMask::StyleOptionVersion"/>
  <enum-type name="QStyleHintReturnMask::enum_1"/>
  <enum-type name="QStyleHintReturnMask::enum_2"/>
  <enum-type name="QStyleOption::StyleOptionType" />
  <enum-type name="QStyleOption::OptionType" extensible="yes"/>
  <enum-type name="QStyleOption::StyleOptionVersion"/>
  <enum-type name="QStyleOption::enum_2"/>
  <enum-type name="QStyleOptionButton::ButtonFeature" flags="QStyleOptionButton::ButtonFeatures"/>
  <enum-type name="QStyleOptionButton::StyleOptionType"/>
  <enum-type name="QStyleOptionButton::StyleOptionVersion"/>
  <enum-type name="QStyleOptionButton::enum_1"/>
  <enum-type name="QStyleOptionButton::enum_2"/>
  <enum-type name="QStyleOptionComboBox::StyleOptionType"/>
  <enum-type name="QStyleOptionComboBox::StyleOptionVersion"/>
  <enum-type name="QStyleOptionComboBox::enum_1"/>
  <enum-type name="QStyleOptionComboBox::enum_2"/>
  <enum-type name="QStyleOptionComplex::StyleOptionType"/>
  <enum-type name="QStyleOptionComplex::StyleOptionVersion"/>
  <enum-type name="QStyleOptionComplex::enum_1"/>
  <enum-type name="QStyleOptionComplex::enum_2"/>
  <enum-type name="QStyleOptionDockWidget::StyleOptionType"/>
  <enum-type name="QStyleOptionDockWidget::StyleOptionVersion"/>
  <enum-type name="QStyleOptionDockWidgetV2::StyleOptionVersion" />
  <enum-type name="QStyleOptionDockWidget::enum_1"/>
  <enum-type name="QStyleOptionDockWidget::enum_2"/>
  <enum-type name="QStyleOptionFocusRect::StyleOptionType"/>
  <enum-type name="QStyleOptionFocusRect::StyleOptionVersion"/>
  <enum-type name="QStyleOptionFocusRect::enum_1"/>
  <enum-type name="QStyleOptionFocusRect::enum_2"/>
  <enum-type name="QStyleOptionFrame::StyleOptionType"/>
  <enum-type name="QStyleOptionFrame::StyleOptionVersion"/>
  <enum-type name="QStyleOptionFrame::enum_1"/>
  <enum-type name="QStyleOptionFrame::enum_2"/>
  <enum-type name="QStyleOptionFrameV2::FrameFeature" flags="QStyleOptionFrameV2::FrameFeatures"/>
  <enum-type name="QStyleOptionFrameV2::StyleOptionVersion"/>
  <enum-type name="QStyleOptionFrameV2::enum_1"/>
  <enum-type name="QStyleOptionGraphicsItem::StyleOptionType"/>
  <enum-type name="QStyleOptionGraphicsItem::StyleOptionVersion"/>
  <enum-type name="QStyleOptionGroupBox::StyleOptionType"/>
  <enum-type name="QStyleOptionGroupBox::StyleOptionVersion"/>
  <enum-type name="QStyleOptionGroupBox::enum_1"/>
  <enum-type name="QStyleOptionGroupBox::enum_2"/>
  <enum-type name="QStyleOptionHeader::SectionPosition"/>
  <enum-type name="QStyleOptionHeader::SelectedPosition"/>
  <enum-type name="QStyleOptionHeader::SortIndicator"/>
  <enum-type name="QStyleOptionHeader::StyleOptionType"/>
  <enum-type name="QStyleOptionHeader::StyleOptionVersion"/>
  <enum-type name="QStyleOptionHeader::enum_1"/>
  <enum-type name="QStyleOptionHeader::enum_2"/>
  <enum-type name="QStyleOptionMenuItem::CheckType"/>
  <enum-type name="QStyleOptionMenuItem::MenuItemType"/>
  <enum-type name="QStyleOptionMenuItem::StyleOptionType"/>
  <enum-type name="QStyleOptionMenuItem::StyleOptionVersion"/>
  <enum-type name="QStyleOptionMenuItem::enum_1"/>
  <enum-type name="QStyleOptionMenuItem::enum_2"/>
  <enum-type name="QStyleOptionProgressBar::StyleOptionType"/>
  <enum-type name="QStyleOptionProgressBar::StyleOptionVersion"/>
  <enum-type name="QStyleOptionProgressBar::enum_1"/>
  <enum-type name="QStyleOptionProgressBar::enum_2"/>
  <enum-type name="QStyleOptionProgressBarV2::StyleOptionType"/>
  <enum-type name="QStyleOptionProgressBarV2::StyleOptionVersion"/>
  <enum-type name="QStyleOptionProgressBarV2::enum_1"/>
  <enum-type name="QStyleOptionProgressBarV2::enum_2"/>
  <enum-type name="QStyleOptionQ3ListViewItem::Q3ListViewItemFeature"/>
  <enum-type name="QStyleOptionRubberBand::StyleOptionType"/>
  <enum-type name="QStyleOptionRubberBand::StyleOptionVersion"/>
  <enum-type name="QStyleOptionRubberBand::enum_1"/>
  <enum-type name="QStyleOptionRubberBand::enum_2"/>
  <enum-type name="QStyleOptionSizeGrip::StyleOptionType"/>
  <enum-type name="QStyleOptionSizeGrip::StyleOptionVersion"/>
  <enum-type name="QStyleOptionSlider::StyleOptionType"/>
  <enum-type name="QStyleOptionSlider::StyleOptionVersion"/>
  <enum-type name="QStyleOptionSlider::enum_1"/>
  <enum-type name="QStyleOptionSlider::enum_2"/>
  <enum-type name="QStyleOptionSpinBox::StyleOptionType"/>
  <enum-type name="QStyleOptionSpinBox::StyleOptionVersion"/>
  <enum-type name="QStyleOptionSpinBox::enum_1"/>
  <enum-type name="QStyleOptionSpinBox::enum_2"/>
  <enum-type name="QStyleOptionTab::CornerWidget" flags="QStyleOptionTab::CornerWidgets"/>
  <enum-type name="QStyleOptionTab::SelectedPosition"/>
  <enum-type name="QStyleOptionTab::StyleOptionType"/>
  <enum-type name="QStyleOptionTab::StyleOptionVersion"/>
  <enum-type name="QStyleOptionTab::TabPosition"/>
  <enum-type name="QStyleOptionTab::enum_1"/>
  <enum-type name="QStyleOptionTab::enum_2"/>
  <enum-type name="QStyleOptionTabBarBase::StyleOptionType"/>
  <enum-type name="QStyleOptionTabBarBase::StyleOptionVersion"/>
  <enum-type name="QStyleOptionTabBarBase::enum_1"/>
  <enum-type name="QStyleOptionTabBarBase::enum_2"/>
  <enum-type name="QStyleOptionTabV2::StyleOptionVersion"/>
  <enum-type name="QStyleOptionTabV2::enum_1"/>
  <enum-type name="QStyleOptionTabWidgetFrame::StyleOptionType"/>
  <enum-type name="QStyleOptionTabWidgetFrame::StyleOptionVersion"/>
  <enum-type name="QStyleOptionTabWidgetFrame::enum_1"/>
  <enum-type name="QStyleOptionTabWidgetFrame::enum_2"/>
  <enum-type name="QStyleOptionTitleBar::StyleOptionType"/>
  <enum-type name="QStyleOptionTitleBar::StyleOptionVersion"/>
  <enum-type name="QStyleOptionTitleBar::enum_1"/>
  <enum-type name="QStyleOptionTitleBar::enum_2"/>
  <enum-type name="QStyleOptionToolBar::StyleOptionType"/>
  <enum-type name="QStyleOptionToolBar::StyleOptionVersion"/>
  <enum-type name="QStyleOptionToolBar::ToolBarFeature" flags="QStyleOptionToolBar::ToolBarFeatures"/>
  <enum-type name="QStyleOptionToolBar::ToolBarPosition"/>
  <enum-type name="QStyleOptionToolBar::enum_1"/>
  <enum-type name="QStyleOptionToolBar::enum_2"/>
  <enum-type name="QStyleOptionToolBox::StyleOptionType"/>
  <enum-type name="QStyleOptionToolBox::StyleOptionVersion"/>
  <enum-type name="QStyleOptionToolBox::enum_1"/>
  <enum-type name="QStyleOptionToolBox::enum_2"/>
  <enum-type name="QStyleOptionToolButton::StyleOptionType"/>
  <enum-type name="QStyleOptionToolButton::StyleOptionVersion"/>
  <enum-type name="QStyleOptionToolButton::ToolButtonFeature" flags="QStyleOptionToolButton::ToolButtonFeatures">
    <reject-enum-value name="MenuButtonPopup" />
  </enum-type>
  <enum-type name="QStyleOptionToolButton::enum_1"/>
  <enum-type name="QStyleOptionToolButton::enum_2"/>
  <enum-type name="QStyleOptionViewItem::Position"/>
  <enum-type name="QStyleOptionViewItem::StyleOptionType"/>
  <enum-type name="QStyleOptionViewItem::StyleOptionVersion"/>
  <enum-type name="QStyleOptionViewItem::enum_1"/>
  <enum-type name="QStyleOptionViewItem::enum_2"/>
  <enum-type name="QStyleOptionViewItemV2::StyleOptionVersion"/>
  <enum-type name="QStyleOptionViewItemV2::ViewItemFeature" flags="QStyleOptionViewItemV2::ViewItemFeatures" />
  <enum-type name="QSystemTrayIcon::ActivationReason"/>
  <enum-type name="QSystemTrayIcon::MessageIcon"/>
  <enum-type name="QTabBar::Shape"/>
  <enum-type name="QTabWidget::TabPosition"/>
  <enum-type name="QTabWidget::TabShape"/>
  <enum-type name="QTableWidgetItem::ItemType"/>
  <enum-type name="QTableWidgetItem::enum_1"/>
  <enum-type name="QTabletEvent::PointerType"/>
  <enum-type name="QTabletEvent::TabletDevice"/>
  <enum-type name="QTextCharFormat::UnderlineStyle"/>
  <enum-type name="QTextCharFormat::VerticalAlignment"/>
  <enum-type name="QTextCursor::MoveMode"/>
  <enum-type name="QTextCursor::MoveOperation"/>
  <enum-type name="QTextCursor::SelectionType"/>
  <enum-type name="QTextDocument::FindFlag" flags="QTextDocument::FindFlags"/>
  <enum-type name="QTextDocument::MetaInformation"/>
  <enum-type name="QTextDocument::ResourceType"/>
  <enum-type name="QTextEdit::AutoFormattingFlag" flags="QTextEdit::AutoFormatting"/>
  <enum-type name="QTextEdit::CursorAction"/>
  <enum-type name="QTextEdit::LineWrapMode"/>
  <enum-type name="QTextFormat::ObjectTypes"/>
  <enum-type name="QTextFormat::PageBreakFlag" flags="QTextFormat::PageBreakFlags"/>
  <enum-type name="QTextFrameFormat::Position"/>
  <enum-type name="QTextItem::RenderFlag" flags="QTextItem::RenderFlags"/>
  <enum-type name="QTextLayout::CursorMode"/>
  <enum-type name="QTextLength::Type"/>
  <enum-type name="QTextLine::CursorPosition"/>
  <enum-type name="QTextLine::Edge"/>
  <enum-type name="QTextListFormat::Style"/>
  <enum-type name="QTextOption::Flag" flags="QTextOption::Flags"/>
  <enum-type name="QTextOption::WrapMode"/>
  <enum-type name="QToolButton::ToolButtonPopupMode"/>
  <enum-type name="QTreeWidgetItem::ItemType"/>
  <enum-type name="QTreeWidgetItem::enum_1"/>
  <enum-type name="QTreeWidgetItemIterator::IteratorFlag" flags="QTreeWidgetItemIterator::IteratorFlags"/>
  <enum-type name="QValidator::State"/>
  <enum-type name="QWidget::WidgetMode"/>
  <enum-type name="QWorkspace::WindowOrder"/>
  <enum-type name="QDoubleValidator::Notation" />
  <enum-type name="QGraphicsScene::SceneLayer" flags="QGraphicsScene::SceneLayers" />
  <enum-type name="QGraphicsSvgItem::enum_1" />
  <enum-type name="QStyleOptionToolBoxV2::SelectedPosition" />
  <enum-type name="QStyleOptionToolBoxV2::StyleOptionVersion" />
  <enum-type name="QStyleOptionToolBoxV2::TabPosition" />
  <enum-type name="QStyleOptionViewItemV3::StyleOptionVersion" />
  <enum-type name="QTransform::TransformationCodes" />  
  <enum-type name="QTreeWidgetItem::ChildIndicatorPolicy" />
  <enum-type name="QWizard::WizardOption" flags="QWizard::WizardOptions" />
  <enum-type name="QWizard::WizardPixmap" />
  <enum-type name="QWizard::WizardStyle" />

  <enum-type name="QWizard::WizardButton">
    <reject-enum-value name="NStandardButtons" />
    <reject-enum-value name="NButtons" />
  </enum-type>

  <enum-type name="QAccessible::Action">
    <reject-enum-value name="FirstStandardAction"/>
    <reject-enum-value name="LastStandardAction"/>
  </enum-type>

  <enum-type name="QBoxLayout::Direction">
    <reject-enum-value name="Down"/>
    <reject-enum-value name="Up"/>
  </enum-type>


  <enum-type name="QClipboard::Mode">
    <reject-enum-value name="LastMode"/>
  </enum-type>

  <enum-type name="QDialogButtonBox::StandardButton" flags="QDialogButtonBox::StandardButtons">
    <reject-enum-value name="FirstButton"/>
    <reject-enum-value name="LastButton"/>
    <reject-enum-value name="YesAll" />             
    <reject-enum-value name="NoAll" />
    <reject-enum-value name="Default" />        
    <reject-enum-value name="Escape" />
    <reject-enum-value name="FlagMask" />
    <reject-enum-value name="ButtonMask" />    
  </enum-type>


  <enum-type name="QDockWidget::DockWidgetFeature" flags="QDockWidget::DockWidgetFeatures">
    <reject-enum-value name="AllDockWidgetFeatures"/>
  </enum-type>

  <enum-type name="QFont::StyleHint">
    <reject-enum-value name="SansSerif"/>
    <reject-enum-value name="Serif"/>
    <reject-enum-value name="TypeWriter"/>
    <reject-enum-value name="Decorative"/>
  </enum-type>

  <enum-type name="QFontDatabase::WritingSystem">
    <reject-enum-value name="Other"/>
  </enum-type>

  <enum-type name="QHeaderView::ResizeMode">
    <reject-enum-value name="Custom"/>
  </enum-type>


  <enum-type name="QMessageBox::StandardButton" flags="QMessageBox::StandardButtons">
    <reject-enum-value name="FirstButton"/>
    <reject-enum-value name="LastButton"/>
    <reject-enum-value name="YesAll"/>
    <reject-enum-value name="NoAll"/>
  </enum-type>

  <enum-type name="QPalette::ColorGroup">
    <reject-enum-value name="Normal"/>
  </enum-type>

  <enum-type name="QPalette::ColorRole">
    <reject-enum-value name="NColorRoles"/>
    <reject-enum-value name="Foreground"/>
    <reject-enum-value name="Background"/>
  </enum-type>

  <enum-type name="QPrinter::PageSize">
    <reject-enum-value name="NPageSize"/>
  </enum-type>

  <enum-type name="QSlider::TickPosition">
    <reject-enum-value name="TicksLeft"/>
    <reject-enum-value name="TicksRight"/>
  </enum-type>

  <enum-type name="QStyle::StyleHint" extensible="yes">
    <reject-enum-value name="SH_ScrollBar_StopMouseOverSlider"/>
  </enum-type>


  <enum-type name="QTextFormat::FormatType"/>

  <enum-type name="QTextFormat::Property">
    <reject-enum-value name="FontSizeIncrement"/>
  </enum-type>
  
  <namespace-type name="QAccessible2">
        <include file-name="qaccessible2.h" location="global" />
  </namespace-type>

  <value-type name="QTransform">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
        <include file-name="com.trolltech.qt.core.Qt.Axis" location="java" />
    </extra-includes>

    <modify-function signature="inverted(bool*)const">
        <access modifier="private" />
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code> 
    /**
     * Returns an inverted copy of this transformation.
     *
     * @return The inverse of the transformation.
     * @throws IllegalArgumentException If this transformation is not invertible.
     */
    public final QTransform inverted() {
        QNativePointer ok = new QNativePointer(QNativePointer.Type.Boolean);
        QTransform returned = inverted(ok);
        if (!ok.booleanValue())
            throw new IllegalArgumentException("Transformation is not invertible");
        return returned;
    }
    </inject-code>


    <modify-function signature="map(int,int,int*,int*)const">
        <remove />
    </modify-function>
    <modify-function signature="map(double,double,double*,double*)const">
        <remove />
    </modify-function>
    <modify-function signature="operator*=(QTransform)">
        <access modifier="private" />
        <rename to="operator_multiply_assign_private" />
    </modify-function>
    <inject-code>
    /**
     * Multiply this and the other QTransform, and assign it to this.
     * 
     * @return this
     */
        <insert-template name="core.unary_self_type">
            <replace from="%FUNCTION_NAME" to="operator_multiply_assign" />
            <replace from="%TYPE" to="QTransform" />
        </insert-template>
    </inject-code>

    <modify-function signature="operator=(QTransform)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
    /**
     * Assignes the other QTranform to this.
     * 
     * @return this
     */
        <insert-template name="core.unary_self_type">
            <replace from="%FUNCTION_NAME" to="operator_assign" />
            <replace from="%TYPE" to="QTransform" />
        </insert-template>
    </inject-code>

    <modify-function signature="rotate(double,Qt::Axis)">
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
        <access modifier="private" />
        <rename to="rotate_private" />
    </modify-function> 
    <inject-code>
    /**
     * Rotates the transformation around the given axis.
     *
     * @return The rotated transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="rotate" />
            <replace from="%ARGUMENTS" to="double angle, Axis axis" />
            <replace from="%ARGUMENT_NAMES" to="angle, axis" />
        </insert-template>

    /**
     * Rotates the transformation around the z-axis.
     *
     * @return The rotated transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="rotate" />
            <replace from="%ARGUMENTS" to="double angle" />
            <replace from="%ARGUMENT_NAMES" to="angle" />
        </insert-template>
    </inject-code>

    <modify-function signature="rotateRadians(double,Qt::Axis)">
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
        <access modifier="private" />
        <rename to="rotateRadians_private" />
    </modify-function>
    <inject-code>
    /**
     * Rotates the transformation around the given axis.
     *
     * @return The rotated transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="rotateRadians" />
            <replace from="%ARGUMENTS" to="double angle, Axis axis" />
            <replace from="%ARGUMENT_NAMES" to="angle, axis" />
        </insert-template>

    /**
     * Rotates the transformation around the z-axis.
     *
     * @return The rotated transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="rotateRadians" />
            <replace from="%ARGUMENTS" to="double angle" />
            <replace from="%ARGUMENT_NAMES" to="angle" />
        </insert-template>
    </inject-code>

    <modify-function signature="scale(double,double)">
        <access modifier="private" />
        <rename to="scale_private" />
    </modify-function>
    <inject-code>
    /**
     * Scales the transformation using x and y.
     *
     * @return The scaled transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="scale" />
            <replace from="%ARGUMENTS" to="double x, double y" />
            <replace from="%ARGUMENT_NAMES" to="x, y" />
        </insert-template>
    </inject-code>

    <modify-function signature="shear(double,double)">
        <access modifier="private" />
        <rename to="shear_private" />
    </modify-function>
    <inject-code>
    /**
      * Shears the transformation using x and y.
      *
      * @return The sheared transformation.
      */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="shear" />
            <replace from="%ARGUMENTS" to="double x, double y" />
            <replace from="%ARGUMENT_NAMES" to="x, y" />
        </insert-template>
    </inject-code>

    <modify-function signature="translate(double,double)">
        <access modifier="private" />
        <rename to="translate_private" />
    </modify-function>
    <inject-code>
    /**
     * Translates the transformation using x and y.
     *
     * @return The translated transformation.
     */
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTransform" />
            <replace from="%FUNCTION_NAME" to="translate" />
            <replace from="%ARGUMENTS" to="double x, double y" />
            <replace from="%ARGUMENT_NAMES" to="x, y" />
        </insert-template>
    </inject-code>

    <modify-function signature="quadToQuad(QPolygonF,QPolygonF,QTransform&amp;)">
        <access modifier="private" />
        <rename to="quadToQuadPrivate" />
    </modify-function>
    <inject-code>
    /**
     * Creates a transformation mapping one arbitrary quad into another.
     *
     * @return The transformation.
     * @throws IllegalArgumentException If this transformation is not possible.
     */
    public static final QTransform quadToQuad(QPolygonF from, QPolygonF to) {
        QTransform res = new QTransform();
        QNativePointer resPointer = res.nativePointer();
        if (quadToQuadPrivate(from, to, resPointer)) {
            return res;
        } else
            throw new IllegalArgumentException("Transformation is not possible");
    }
    </inject-code>

    <modify-function signature="quadToSquare(QPolygonF,QTransform&amp;)">
        <access modifier="private" />
        <rename to="quadToSquarePrivate" />
    </modify-function>
    <inject-code>
    /**
     * Creates a transformation that maps a quad to a unit square.
     *
     * @return The transformation.
     * @throws IllegalArgumentException If this transformation is not possible.
     */
    public static final QTransform quadToSquare(QPolygonF quad) {
        QTransform res = new QTransform();
        QNativePointer resPointer = res.nativePointer();
        if (quadToSquarePrivate(quad, resPointer)) {
            return res;
        } else
            throw new IllegalArgumentException("Transformation is not possible");
    }
    </inject-code>

    <modify-function signature="squareToQuad(QPolygonF,QTransform&amp;)">
        <access modifier="private" />
        <rename to="squareToQuadPrivate" />
    </modify-function>
    <inject-code>
    /**
     * Creates a transformation that maps a unit square to a the given quad.
     *
     * @return The transformation.
     * @throws IllegalArgumentException If this transformation is not possible.
     */
    public static final QTransform squareToQuad(QPolygonF quad) {
        QTransform res = new QTransform();
        QNativePointer resPointer = res.nativePointer();
        if (squareToQuadPrivate(quad, resPointer)) {
            return res;
        } else
            throw new IllegalArgumentException("Transformation is not possible");
    }
    </inject-code>
  </value-type>  
  
  <value-type name="QStyleOption" polymorphic-base="yes" 
              polymorphic-id-expression="%1-&gt;type == QStyleOption::SO_Default">
    <modify-function signature="operator=(QStyleOption)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QStyleOption" />
        </insert-template>            
    </inject-code>                    
  </value-type>              
  <value-type name="QStyleOptionGraphicsItem" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionGraphicsItem::Type &amp;&amp; %1-&gt;version == QStyleOptionGraphicsItem::Version"/>
  <value-type name="QStyleOptionSizeGrip" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionSizeGrip::Type &amp;&amp; %1-&gt;version == QStyleOptionSizeGrip::Version"/>
  <value-type name="QStyleOptionButton" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionButton::Type &amp;&amp; %1-&gt;version == QStyleOptionButton::Version" />
  <value-type name="QStyleOptionComboBox" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionComboBox::Type &amp;&amp; %1-&gt;version == QStyleOptionComboBox::Version" />
  <value-type name="QStyleOptionComplex" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionComplex::Type &amp;&amp; %1-&gt;version == QStyleOptionComplex::Version" />
  <value-type name="QStyleOptionDockWidget" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionDockWidget::Type &amp;&amp; %1-&gt;version == QStyleOptionDockWidget::Version" />
  <value-type name="QStyleOptionDockWidgetV2" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionDockWidgetV2::Type &amp;&amp; %1-&gt;version == QStyleOptionDockWidgetV2::Version" /> 
  <value-type name="QStyleOptionFocusRect" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionFocusRect::Type &amp;&amp; %1-&gt;version == QStyleOptionFocusRect::Version" />
  <value-type name="QStyleOptionFrame" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionFrame::Type &amp;&amp; %1-&gt;version == QStyleOptionFrame::Version" />
              
  <value-type name="QStyleOptionFrameV2" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionFrameV2::Type &amp;&amp; %1-&gt;version == QStyleOptionFrameV2::Version">
    <modify-function signature="operator=(QStyleOptionFrame)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>              
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionFrame" />
            <replace from="%OUT_TYPE" to="QStyleOptionFrameV2" />
        </insert-template>
    </inject-code>                  
  </value-type>              
              
  <value-type name="QStyleOptionGroupBox" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionGroupBox::Type &amp;&amp; %1-&gt;version == QStyleOptionGroupBox::Version"/>
  <value-type name="QStyleOptionHeader" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionHeader::Type &amp;&amp; %1-&gt;version == QStyleOptionHeader::Version"/>
  <value-type name="QStyleOptionMenuItem" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionMenuItem::Type &amp;&amp; %1-&gt;version == QStyleOptionMenuItem::Version"/>
  <value-type name="QStyleOptionProgressBar" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionProgressBar::Type &amp;&amp; %1-&gt;version == QStyleOptionProgressBar::Version"/>
              
  <value-type name="QStyleOptionProgressBarV2" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionProgressBarV2::Type &amp;&amp; %1-&gt;version == QStyleOptionProgressBarV2::Version">
    <modify-function signature="operator=(QStyleOptionProgressBar)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>              
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionProgressBar" />
            <replace from="%OUT_TYPE" to="QStyleOptionProgressBarV2" />
        </insert-template>
    </inject-code>    
  </value-type>              
  
  <value-type name="QStyleOptionRubberBand" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionRubberBand::Type &amp;&amp; %1-&gt;version == QStyleOptionRubberBand::Version"/>
  <value-type name="QStyleOptionSlider" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionSlider::Type &amp;&amp; %1-&gt;version == QStyleOptionSlider::Version"/>
  <value-type name="QStyleOptionSpinBox" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionSpinBox::Type &amp;&amp; %1-&gt;version == QStyleOptionSpinBox::Version"/>
  <value-type name="QStyleOptionTab" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionTab::Type &amp;&amp; %1-&gt;version == QStyleOptionTab::Version"/>
  <value-type name="QStyleOptionTabV2" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionTabV2::Type &amp;&amp; %1-&gt;version == QStyleOptionTabV2::Version">
    <modify-function signature="operator=(const QStyleOptionTab &amp;)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionTab" />
            <replace from="%OUT_TYPE" to="QStyleOptionTabV2" />
        </insert-template>            
    </inject-code>              
  </value-type>             
  <value-type name="QStyleOptionTabBarBase" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionTabBarBase::Type &amp;&amp; %1-&gt;version == QStyleOptionTabBarBase::Version"/> 
  <value-type name="QStyleOptionTabWidgetFrame" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionTabWidgetFrame::Type &amp;&amp; %1-&gt;version == QStyleOptionTabWidgetFrame::Version"/>
  <value-type name="QStyleOptionTitleBar" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionTitleBar::Type &amp;&amp; %1-&gt;version == QStyleOptionTitleBar::Version"/>
  <value-type name="QStyleOptionToolBar" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionToolBar::Type &amp;&amp; %1-&gt;version == QStyleOptionToolBar::Version"/>
  <value-type name="QStyleOptionToolBox" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionToolBox::Type &amp;&amp; %1-&gt;version == QStyleOptionToolBox::Version"/>
  <value-type name="QStyleOptionToolBoxV2"
              polymorphic-id-expression="%1-&gt;type == QStyleOptionToolBoxV2::Type &amp;&amp; %1-&gt;version == QStyleOptionToolBoxV2::Version">
    <modify-function signature="operator=(QStyleOptionToolBox)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>    
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionToolBox" />
            <replace from="%OUT_TYPE" to="QStyleOptionToolBoxV2" />
        </insert-template>            
    </inject-code>              
  </value-type>              
  <value-type name="QStyleOptionToolButton" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionToolButton::Type &amp;&amp; %1-&gt;version == QStyleOptionToolButton::Version"/>
  <value-type name="QStyleOptionViewItem" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionViewItem::Type &amp;&amp; %1-&gt;version == QStyleOptionViewItem::Version"/>  
  <value-type name="QStyleOptionViewItemV2" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionViewItemV2::Type &amp;&amp; %1-&gt;version == QStyleOptionViewItemV2::Version">                
    <modify-function signature="operator=(QStyleOptionViewItem)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>    
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionViewItem" />
            <replace from="%OUT_TYPE" to="QStyleOptionViewItemV2" />
            <replace from="final" to="" />
        </insert-template>            
    </inject-code>      
  </value-type>              
  <value-type name="QStyleOptionViewItemV3" 
              polymorphic-id-expression="%1-&gt;type == QStyleOptionViewItemV3::Type &amp;&amp; %1-&gt;version == QStyleOptionViewItemV3::Version">
    <modify-function signature="operator=(QStyleOptionViewItem)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>    
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QStyleOptionViewItem" />
            <replace from="%OUT_TYPE" to="QStyleOptionViewItemV3" />
        </insert-template>            
    </inject-code>                    
  </value-type>              
  <value-type name="QTextFragment">  
    <modify-function signature="operator=(QTextFragment)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>    
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextFragment" />
        </insert-template>            
    </inject-code>  
  </value-type>
  <value-type name="QBitmap">  
    <modify-function signature="operator=(const QPixmap &amp;)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QPixmap" />
            <replace from="%OUT_TYPE" to="QBitmap" />
        </insert-template>            
    </inject-code>
    
    <modify-function signature="QBitmap(QString,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public QBitmap(String fileName, String format) {
            this(fileName, format == null ? null : com.trolltech.qt.QNativePointer.createCharPointer(format));
        }
        
        public QBitmap(String fileName) {
            this(fileName, (String) null);
        }
    </inject-code>
    
    <modify-function signature="fromData(QSize,const unsigned char*,QImage::Format)">
        <access modifier="private" />        
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public static QBitmap fromData(com.trolltech.qt.core.QSize size, byte bits[], QImage.Format monoFormat) {
            return fromData(size, com.trolltech.qt.QtJambiInternal.byteArrayToNativePointer(bits), monoFormat);
        }
        
        public static QBitmap fromData(com.trolltech.qt.core.QSize size, byte bits[]) {
            return fromData(size, bits, QImage.Format.Format_MonoLSB);
        }
    </inject-code>    
  </value-type>
  <value-type name="QTextInlineObject"/>
  <value-type name="QSizePolicy"/>
  <value-type name="QTableWidgetSelectionRange"/>
  <value-type name="QTextDocumentFragment">
    <modify-function signature="operator=(QTextDocumentFragment)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>    
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextDocumentFragment" />
        </insert-template>            
    </inject-code>        
  </value-type>
  <value-type name="QTextOption">
    <modify-function signature="operator=(const QTextOption &amp;)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextOption" />
        </insert-template>            
    </inject-code>    
  </value-type>
  <value-type name="QTextLine">
    <modify-function signature="cursorToX(int*,QTextLine::Edge)const">
        <remove />
    </modify-function>
    
    <modify-function signature="draw(QPainter*,QPointF,const QTextLayout_FormatRange*)const">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        public final void draw(QPainter painter, com.trolltech.qt.core.QPointF position) {
            draw(painter, position, null);
        }
    </inject-code>    
  </value-type>
  <value-type name="QTextTableFormat"/>
  <value-type name="QTextImageFormat"/>
  <value-type name="QTextFrameFormat"/>
  <value-type name="QTextLength"/>
  <value-type name="QItemSelectionRange"/>
  <value-type name="QLine"/>
  <value-type name="QLineF">
    <modify-function signature="intersect(QLineF,QPointF*)const  ">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public final QLineF.IntersectType intersect(QLineF line, com.trolltech.qt.core.QPointF intersectionPoint) {
            return intersect(line, intersectionPoint != null ? intersectionPoint.nativePointer() : null);
        }
    </inject-code>    
  </value-type>
  <value-type name="QPainterPath">  
    <modify-function signature="operator=(QPainterPath)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QPainterPath" />
        </insert-template>            
    </inject-code>    
  </value-type>
  <value-type name="QPalette">
    <modify-function signature="operator=(const QPalette&amp;)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QPalette" />
        </insert-template>            
    </inject-code>
  </value-type>
  <value-type name="QKeySequence"> 
    <modify-function signature="operator=(QKeySequence)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QKeySequence" />
        </insert-template>            
    </inject-code>      
  </value-type>
  <value-type name="QPicture">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
        <include file-name="com.trolltech.qt.core.QIODevice" location="java" />
    </extra-includes>
    <modify-function signature="load(QIODevice*,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>                
        public final boolean load(QIODevice dev) {
            return load(dev, (com.trolltech.qt.QNativePointer) null);
        }
    </inject-code>
    
    <modify-function signature="load(QString,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public final boolean load(String fileName) {
            return load(fileName, (com.trolltech.qt.QNativePointer) null);
        }
    </inject-code>
    
    <modify-function signature="operator=(QPicture)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QPicture" />
        </insert-template>            
    </inject-code>
    
    <modify-function signature="save(QIODevice*,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public final boolean save(QIODevice dev) {
            return save(dev, (com.trolltech.qt.QNativePointer) null);
        }
    </inject-code>
    
    <modify-function signature="save(QString,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>        
        public final boolean save(String fileName) {
            return save(fileName, (com.trolltech.qt.QNativePointer) null);
        }
    </inject-code>
    
    <modify-function signature="setData(const char*,uint)">
        <modify-argument index="1">
            <replace-type modified-type="byte[]" />
            <conversion-rule class="shell">
                jbyteArray %out = __jni_env->NewByteArray(%2);
                __jni_env->SetByteArrayRegion(%out, 0, %2, (jbyte *) %in);
            </conversion-rule>
            <conversion-rule class="native">
                char *%out = (char *) __jni_env->GetByteArrayElements((jbyteArray) %in, 0);
                char *__ptr = %out;
                Q_UNUSED(__ptr)
            </conversion-rule>                        
        </modify-argument>
        
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
       
    <modify-function signature="pictureFormat(QString)">
        <remove />
    </modify-function>
    
    <modify-function signature="data()const">
        <access modifier="private"/>
        <rename to="data_private"/>
    </modify-function>
    <inject-code>
        public final byte[] data() {
            QNativePointer npData = data_private();
            if (npData == null) return null;            
            byte returned[] = new byte[size()];
            for (int i=0; i&lt;returned.length; ++i) returned[i] = npData.byteAt(i);
            return returned;
        }
    </inject-code>
  </value-type>
  <value-type name="QPolygonF">
    <modify-function signature="constData()const">
        <remove />
    </modify-function>
    
    <modify-function signature="data()">
        <remove />
    </modify-function>
    <modify-function signature="data()const">
        <remove />
    </modify-function>
    
    <modify-function signature="first()">
        <remove />
    </modify-function>      

    <modify-function signature="last()">
        <remove />
    </modify-function> 
    
    <modify-function signature="operator[](int)">
        <remove />
    </modify-function>
    
  </value-type>
  <value-type name="QRegion" expense-limit="4096">
    <modify-function signature="operator&amp;=(QRegion)">
        <remove />
    </modify-function>
    <modify-function signature="operator+=(QRegion)">
        <remove />
    </modify-function>
    <modify-function signature="operator-=(QRegion)">
        <remove />
    </modify-function>
    <modify-function signature="operator=(QRegion)">
        <rename to="operator_assign_private" />
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QRegion" />
        </insert-template>            
    </inject-code>
    <modify-function signature="operator^=(QRegion)">
        <remove />
    </modify-function>
    <modify-function signature="operator|=(QRegion)">
        <remove />
    </modify-function>
    <modify-function signature="setRects(const QRect*,int)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public void setRects(com.trolltech.qt.core.QRect[] rects) {
            setRects(com.trolltech.qt.core.QRect.nativePointerArray(rects), rects.length);
        }
    </inject-code>
  </value-type>
  <value-type name="QTextBlock">
    <modify-function signature="operator=(QTextBlock)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextBlock" />
        </insert-template>            
    </inject-code>
  </value-type>
  <value-type name="QTextBlockFormat"/>
  <value-type name="QTextCharFormat"/>
  <value-type name="QTextFormat">
    <modify-function signature="operator=(QTextFormat)">
        <access modifier="private" />
        <rename to="operator_assign_private" />   
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextFormat" />
        </insert-template>            
    </inject-code>    
  </value-type>
  
  <value-type name="QTextListFormat"/>
  <value-type name="QPolygon">
    <modify-function signature="QPolygon(int, const int *)">
      <remove/>
    </modify-function>
    <modify-function signature="constData()const">
        <remove />
    </modify-function>
    
    <modify-function signature="data()">
        <remove />
    </modify-function>

    <modify-function signature="data()const">
        <remove />
    </modify-function>
    
    <modify-function signature="first()">
        <remove />
    </modify-function>       
    
    <modify-function signature="last()">
        <remove />
    </modify-function> 
    
    <modify-function signature="operator[](int)">
        <remove />
    </modify-function>
  </value-type>

  <value-type name="QIcon">    
    <modify-function signature="operator=(QIcon)">
        <access modifier="private"/>
        <rename to="operator_assign_private"/>
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QIcon" />
        </insert-template>            
    </inject-code>
  </value-type>  

  <value-type name="QTextFrame::iterator">
    <include file-name="QTextFrame" location="global"/>
    <modify-function signature="operator=(QTextFrame_iterator)">
        <rename to="operator_assign_private" />
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextFrame_iterator" />
        </insert-template>            
    </inject-code>
    
    <modify-function signature="operator++()">
        <access modifier="private" />
        <rename to="operator_increment_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTextFrame_iterator" />
            <replace from="%FUNCTION_NAME" to="operator_increment" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>                
    </inject-code>
    
    <modify-function signature="operator--()">
        <access modifier="private" />
        <rename to="operator_decrement_private" />    
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTextFrame_iterator" />
            <replace from="%FUNCTION_NAME" to="operator_decrement" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>        
    </inject-code>    

  </value-type>

  <value-type name="QTreeWidgetItemIterator">  
    <custom-constructor>
    return new QTreeWidgetItemIterator(*copy);
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
    <modify-function signature="operator+=(int)">
        <access modifier="private" />
        <rename to="operator_add_assign_private" />        
    </modify-function>
    <inject-code>
        <insert-template name="core.unary_other_type">
            <replace from="%IN_TYPE" to="int" />
            <replace from="%OUT_TYPE" to="QTreeWidgetItemIterator"/>
            <replace from="%FUNCTION_NAME" to="operator_add_assign" />
        </insert-template>                
    </inject-code>
    <modify-function signature="operator-=(int)">
        <access modifier="private" />
        <rename to="operator_subtract_assign_private" />                
    </modify-function>    
    <inject-code>
        <insert-template name="core.unary_other_type">
            <replace from="%IN_TYPE" to="int" />
            <replace from="%OUT_TYPE" to="QTreeWidgetItemIterator"/>
            <replace from="%FUNCTION_NAME" to="operator_subtract_assign" />
        </insert-template>                
    </inject-code>    
    <modify-function signature="operator=(QTreeWidgetItemIterator)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTreeWidgetItemIterator" />
        </insert-template>            
    </inject-code>           

    <modify-function signature="operator++()">
        <access modifier="private" />
        <rename to="operator_increment_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTreeWidgetItemIterator" />
            <replace from="%FUNCTION_NAME" to="operator_increment" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>        
    </inject-code>
    
    <modify-function signature="operator--()">
        <access modifier="private" />
        <rename to="operator_decrement_private" />    
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTreeWidgetItemIterator" />
            <replace from="%FUNCTION_NAME" to="operator_decrement" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>
    </inject-code>        
   </value-type>
   
  <value-type name="QTextBlock::iterator">
    <include file-name="QTextBlock" location="global"/>
    
    <modify-function signature="operator++()">
        <access modifier="private" />
        <rename to="operator_increment_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTextBlock_iterator" />
            <replace from="%FUNCTION_NAME" to="operator_increment" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="operator--()">
        <access modifier="private" />
        <rename to="operator_decrement_private" />    
    </modify-function>
    <inject-code>
        <insert-template name="core.private_function_return_self">
            <replace from="%RETURN_TYPE" to="QTextBlock_iterator" />
            <replace from="%FUNCTION_NAME" to="operator_decrement" />
            <replace from="%ARGUMENTS" to="" />
            <replace from="%ARGUMENT_NAMES" to="" />
        </insert-template>
    </inject-code>        
  </value-type>

  <value-type name="QAbstractTextDocumentLayout::PaintContext">
    <include file-name="QAbstractTextDocumentLayout" location="global"/>
  </value-type>
  <value-type name="QAbstractTextDocumentLayout::Selection" />

  <value-type name="QPixmap">
    <modify-function signature="QPixmap(const char **)">
        <access modifier="private"/>
    </modify-function>
    <modify-function signature="fill(const QColor &amp;)"> 
      <modify-argument index="1">
        <replace-default-expression with="QColor.white"/>
      </modify-argument>
    </modify-function>
    <inject-code>
        public QPixmap(String xpm[]) 
        {
            this(com.trolltech.qt.QNativePointer.createCharPointerPointer(xpm));
        }
    </inject-code>
  
    <template name="gui.pixmap_save">
        public final boolean save(%INPUT_TYPE %INPUT_NAME, String format, int quality) {
            return private_save(%INPUT_NAME, com.trolltech.qt.QNativePointer.createCharPointer(format), quality);
        }
        public final boolean save(%INPUT_TYPE %INPUT_NAME, String format) {
            return save(%INPUT_NAME, format, -1);
        }    
        public final boolean save(%INPUT_TYPE %INPUT_NAME) {
            return save(%INPUT_NAME, null);
        }        
    </template>

    <template name="gui.pixmap_loadconstructor">
        public %RETURN_TYPE %FUNCTION_NAME(%INPUT_TYPE %INPUT_NAME, String format, Qt.ImageConversionFlags flags) {
            %FUNCTION_CALL(%OUTPUT_NAME, format == null ? null : QNativePointer.createCharPointer(format), flags);
        }
        
        public %RETURN_TYPE %FUNCTION_NAME(%INPUT_TYPE %INPUT_NAME, String format, Qt.ImageConversionFlag ... flags) {
            %FUNCTION_CALL(%INPUT_NAME, format, new Qt.ImageConversionFlags(flags));
        }
        
        public %RETURN_TYPE %FUNCTION_NAME(%INPUT_TYPE %INPUT_NAME, String format) {
            %FUNCTION_CALL(%INPUT_NAME, format, Qt.ImageConversionFlag.AutoColor);
        }
        
        public %RETURN_TYPE %FUNCTION_NAME(%INPUT_TYPE %INPUT_NAME) {
            %FUNCTION_CALL(%INPUT_NAME, null);
        }
    </template>
    
    <template name="gui.pixmap_load">
        <insert-template name="gui.pixmap_loadconstructor">
            <replace from="%RETURN_TYPE" to="final boolean" />            
            <replace from="%FUNCTION_CALL" to="return %FUNCTION_NAME" />
        </insert-template>
    </template>
    
    <template name="gui.pixmap_constructor">
        <insert-template name="gui.pixmap_loadconstructor">
            <replace from="%RETURN_TYPE" to="" />
            <replace from="%FUNCTION_NAME" to="QPixmap" />
            <replace from="%FUNCTION_CALL" to="this" />
            <replace from="%INPUT_TYPE" to="String" />
            <replace from="%INPUT_NAME" to="fileName" />
            <replace from="%OUTPUT_NAME" to="fileName" />
        </insert-template>
    </template>
  
    <extra-includes>
        <include file-name="QBitmap" location="global"/>
        <include file-name="QMatrix" location="global"/>
        <include file-name="com.trolltech.qt.core.Qt" location="java" />
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <modify-function signature="save(QIODevice *, const char *, int) const">
        <access modifier="private"/>
        <rename to="private_save"/>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_save">
            <replace from="%INPUT_TYPE" to="com.trolltech.qt.core.QIODevice" />
            <replace from="%INPUT_NAME" to="dev" />
        </insert-template>
    </inject-code>

    <modify-function signature="save(const QString &amp;, const char *, int) const">
        <access modifier="private"/>
        <rename to="private_save"/>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>    
    <inject-code>
        <insert-template name="gui.pixmap_save">
            <replace from="%INPUT_TYPE" to="String" />
            <replace from="%INPUT_NAME" to="fileName" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="QPixmap(QString,const char*,QFlags&lt;Qt::ImageConversionFlag>)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_constructor" />
    </inject-code>
    
    <modify-function signature="load(QString,const char*,QFlags&lt;Qt::ImageConversionFlag>)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>            
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_load">
            <replace from="%FUNCTION_NAME" to="load" />
            <replace from="%INPUT_TYPE" to="String" />
            <replace from="%INPUT_NAME" to="fileName" />
            <replace from="%OUTPUT_NAME" to="fileName" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="loadFromData(const unsigned char*,uint,const char*,QFlags&lt;Qt::ImageConversionFlag>)">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_load">
            <replace from="%FUNCTION_NAME" to="loadFromData" />
            <replace from="%INPUT_TYPE" to="byte[]" />
            <replace from="%INPUT_NAME" to="data" />
            <replace from="%OUTPUT_NAME" to="com.trolltech.qt.QtJambiInternal.byteArrayToNativePointer(data), data.length" />
        </insert-template>    
    </inject-code>
    
    <modify-function signature="loadFromData(QByteArray,const char*,QFlags&lt;Qt::ImageConversionFlag>)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_load">
            <replace from="%FUNCTION_NAME" to="loadFromData" />
            <replace from="%INPUT_TYPE" to="com.trolltech.qt.core.QByteArray" />
            <replace from="%INPUT_NAME" to="data" />            
            <replace from="%OUTPUT_NAME" to="data" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="operator=(QPixmap)">
        <access modifier="private"/>
        <rename to="operator_assign_private"/>
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QPixmap" />
            <replace from="final" to="" />
        </insert-template>            
    </inject-code>
    
  </value-type>

  <value-type name="QTextCursor">
    <extra-includes>
        <include file-name="QTextBlock" location="global"/>
        <include file-name="QTextDocumentFragment" location="global"/>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>  
    <modify-function signature="operator=(QTextCursor)">    
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextCursor" />
        </insert-template>            
    </inject-code>
    <modify-function signature="selectedTableCells(int*,int*,int*,int*)const">
        <access modifier="private" />
    </modify-function>    
    <inject-code>
        public final QTableArea selectedTableCells() {
            QNativePointer firstRow = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer numRows = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer firstColumn = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer numColumns = new QNativePointer(QNativePointer.Type.Int);
            
            selectedTableCells(firstRow, numRows, firstColumn, numColumns);
            
            return new QTableArea(firstRow.intValue(), firstColumn.intValue(), numRows.intValue(), numColumns.intValue());
        }
    </inject-code>    
  </value-type>

  <value-type name="QTextLayout::FormatRange">
    <include file-name="QTextLayout" location="global"/>
  </value-type>

  <value-type name="QInputMethodEvent::Attribute">
    <include file-name="QInputMethodEvent" location="global"/>
    <custom-constructor>
    return new QInputMethodEvent::Attribute(copy->type, copy->start, copy->length, copy->value);
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
  </value-type>
  
  <value-type name="QItemSelection"> 
    <modify-function signature="split(QItemSelectionRange,QItemSelectionRange,QItemSelection*)">
        <access modifier="private" />
    </modify-function>
    <modify-function signature="operator=(const QList&lt;QItemSelectionRange>&amp;)">
      <remove/>
    </modify-function>
    <inject-code>
        public static void split(QItemSelectionRange range, QItemSelectionRange other, QItemSelection result) {
            com.trolltech.qt.QNativePointer np = result.nativePointer();
            split(range, other, np);
        }
    </inject-code>
    <modify-function signature="back()">
        <remove />
    </modify-function>        
    <modify-function signature="first()">
        <remove />
    </modify-function>        
    <modify-function signature="front()">
        <remove />
    </modify-function>        
    <modify-function signature="last()">
        <remove />
    </modify-function>        
    <modify-function signature="operator[](int)">
        <remove />
    </modify-function>        
    
  </value-type>

  <value-type name="QMatrix">
        <extra-includes>
            <include file-name="QPainterPath" location="global"/>
            <include file-name="com.trolltech.qt.QNativePointer" location="java" />
        </extra-includes>
        <modify-function signature="inverted(bool*)const">
            <access modifier="private" />
            <modify-argument index="1">
                <remove-default-expression />
            </modify-argument>
        </modify-function>
        <inject-code>
            /**
             * Returns an inverted copy of this matrix.
             *
             * @return The inverse of the matrix.
             * @throws IllegalArgumentException If this matrix is not invertible.
             */
            public final QMatrix inverted() {
                QNativePointer ok = new QNativePointer(QNativePointer.Type.Boolean);                
                QMatrix returned = inverted(ok);
                if (!ok.booleanValue())
                    throw new IllegalArgumentException("Matrix is not invertible");                    
                return returned;                    
            }
        </inject-code>
                
        <modify-function signature="map(int,int,int*,int*)const">
            <remove />
        </modify-function>
        
        <modify-function signature="map(double,double,double*,double*)const">
            <remove />
        </modify-function>
        
        <modify-function signature="operator*=(QMatrix)">
            <access modifier="private"/>
            <rename to="operator_multiply_assign_private"/>
        </modify-function>
        <inject-code>
            <insert-template name="core.unary_self_type">
                <replace from="%FUNCTION_NAME" to="operator_multiply_assign" />
                <replace from="%TYPE" to="QMatrix" />
            </insert-template>
        </inject-code>
        
        <modify-function signature="operator=(QMatrix)">
            <access modifier="private"/>
            <rename to="operator_assign_private"/>                    
        </modify-function>
        <inject-code>
            <insert-template name="core.operator_assign_self_type">
                <replace from="%TYPE" to="QMatrix" />
            </insert-template>            
        </inject-code>
        
        <modify-function signature="rotate(double)">
            <access modifier="private"/>
            <rename to="rotate_private"/>
        </modify-function>
        <inject-code>
            <insert-template name="core.unary_other_type">
                <replace from="%FUNCTION_NAME" to="rotate" />
                <replace from="%OUT_TYPE" to="QMatrix" />
                <replace from="%IN_TYPE" to="double" />
            </insert-template>            
        </inject-code>        
        
        <modify-function signature="scale(double,double)">
            <access modifier="private"/>
            <rename to="scale_private"/>        
        </modify-function>
        <inject-code>
            <insert-template name="core.private_function_return_self">
                <replace from="%RETURN_TYPE" to="QMatrix" />
                <replace from="%FUNCTION_NAME" to="scale" />
                <replace from="%ARGUMENTS" to="double sx, double sy" />
                <replace from="%ARGUMENT_NAMES" to="sx, sy" />
            </insert-template>                
        </inject-code>        
        
        <modify-function signature="shear(double,double)">
            <access modifier="private"/>
            <rename to="shear_private"/>                
        </modify-function>
        <inject-code>
            <insert-template name="core.private_function_return_self">
                <replace from="%RETURN_TYPE" to="QMatrix" />
                <replace from="%FUNCTION_NAME" to="shear" />
                <replace from="%ARGUMENTS" to="double sh, double sv" />
                <replace from="%ARGUMENT_NAMES" to="sh, sv" />
            </insert-template>                            
        </inject-code>
                
        <modify-function signature="translate(double,double)">
            <access modifier="private"/>
            <rename to="translate_private"/>                
        </modify-function>
        <inject-code>
            <insert-template name="core.private_function_return_self">
                <replace from="%RETURN_TYPE" to="QMatrix" />
                <replace from="%FUNCTION_NAME" to="translate" />
                <replace from="%ARGUMENTS" to="double dx, double dy" />
                <replace from="%ARGUMENT_NAMES" to="dx, dy" />
            </insert-template>            
        </inject-code>
  </value-type>

  <value-type name="QConicalGradient"
              polymorphic-id-expression="%1-&gt;type() == QGradient::ConicalGradient">
    <custom-constructor>
    return new QConicalGradient(copy->center(), copy->angle());
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>  
  </value-type>

  <value-type name="QFontInfo">
    <custom-constructor>
    return new QFontInfo(*copy);
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
    <modify-function signature="operator=(QFontInfo)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QFontInfo" />
        </insert-template>
    </inject-code>
    
  </value-type>

  <value-type name="QRadialGradient"
              polymorphic-id-expression="%1-&gt;type() == QGradient::RadialGradient">
    <custom-constructor>
    return new QRadialGradient(copy->center(), copy->radius(), copy->focalPoint());
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
  </value-type>
    
  <value-type name="QPainterPath::Element">
    <modify-field name="x" write="false"/>
    <modify-field name="y" write="false"/>
    <include file-name="QPainterPath" location="global"/>
  </value-type>

  <value-type name="QTextEdit::ExtraSelection">
    <include file-name="QTextEdit" location="global"/>
  </value-type>

  <value-type name="QFont">
    <extra-includes>
        <include file-name="QStringList" location="global"/>
    </extra-includes>    
    <modify-function signature="operator=(QFont)">
        <rename to="operator_assign_private"/>
        <access modifier="private"/>        
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QFont" />
        </insert-template>            
    </inject-code>    
  </value-type>

  <value-type name="QTextTableCell">
    <extra-includes>
        <include file-name="QTextCursor" location="global"/>
    </extra-includes>
    <modify-function signature="operator=(QTextTableCell)">
        <rename to="operator_assign_private"/>
        <access modifier="private"/>        
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QTextTableCell" />
        </insert-template>            
    </inject-code>
  </value-type>
  
  <value-type name="QImage" expense-limit="67108864" expense-cost="height()*bytesPerLine()">
    <modify-function signature="QImage(const char *, const char *)">
        <remove />
    </modify-function>
    <modify-function signature="QImage(const char **)">
        <access modifier="private"/>
    </modify-function>
    <modify-function signature="QImage(const unsigned char*,int,int,int,QImage::Format)">
	    <remove />
    </modify-function>
    <modify-function signature="bits()const">
        <remove/>
    </modify-function>
    <modify-function signature="scanLine(int)const">
        <remove/>
    </modify-function>
    <modify-function signature="QImage(const unsigned char *, int, int, QImage::Format)">
        <remove/>
    </modify-function>
    <inject-code>
        public QImage(String xpm[]) 
        {
            this(com.trolltech.qt.QNativePointer.createCharPointerPointer(xpm));
        }
    </inject-code>    
    <extra-includes>
        <include file-name="QStringList" location="global"/>
        <include file-name="QMatrix" location="global"/>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <modify-function signature="save(const QString &amp;, const char *, int) const">
        <access modifier="private"/>
        <rename to="private_save"/>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_save">
            <replace from="%INPUT_TYPE" to="String" />
            <replace from="%INPUT_NAME" to="fileName" />
        </insert-template>
    </inject-code>
    
    <inject-code>
        public final byte[] copyOfBytes() {
            QNativePointer bits = bits();
            byte bytes[] = new byte[numBytes()];
            for (int i=0;i&lt;bytes.length;++i) bytes[i] = bits.byteAt(i);            
            return bytes;
        }
    </inject-code>
    
    
    <modify-function signature="save(QIODevice *, const char *, int) const">
        <access modifier="private"/>
        <rename to="private_save"/>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.pixmap_save">
            <replace from="%INPUT_TYPE" to="com.trolltech.qt.core.QIODevice" />
            <replace from="%INPUT_NAME" to="dev" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="QImage(unsigned char*,int,int,QImage::Format)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public QImage(byte data[], int width, int height, Format format) {
            this(com.trolltech.qt.QtJambiInternal.byteArrayToNativePointer(data), width, height, format);
        }
    </inject-code>
    
    <modify-function signature="QImage(QString,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public QImage(String fileName, String format) {
            this(fileName, format == null ? null : QNativePointer.createCharPointer(format));
        }
        
        public QImage(String fileName) {
            this(fileName, (String) null);
        }
    </inject-code>
    
    <template name="gui.image_load">
        public final boolean %FUNCTION_NAME(%ARGUMENT_TYPE %ARGUMENT_NAME, String format) {
            return %FUNCTION_NAME(%OUT_ARGUMENT_NAME, format != null ? QNativePointer.createCharPointer(format) : null);
        }
        
        public final boolean %FUNCTION_NAME(%ARGUMENT_TYPE %ARGUMENT_NAME) {
            return %FUNCTION_NAME(%ARGUMENT_NAME, (String) null);
        }
    </template>
    <modify-function signature="load(QString,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.image_load">
            <replace from="%FUNCTION_NAME" to="load" />
            <replace from="%ARGUMENT_TYPE" to="String" />
            <replace from="%ARGUMENT_NAME" to="fileName" />
            <replace from="%OUT_ARGUMENT_NAME" to="fileName" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="load(QIODevice*,const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.image_load">
            <replace from="%FUNCTION_NAME" to="load" />
            <replace from="%ARGUMENT_TYPE" to="com.trolltech.qt.core.QIODevice" />
            <replace from="%ARGUMENT_NAME" to="device" />
            <replace from="%OUT_ARGUMENT_NAME" to="device" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="loadFromData(const unsigned char*,int,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.image_load">
            <replace from="%FUNCTION_NAME" to="loadFromData" />
            <replace from="%ARGUMENT_TYPE" to="byte[]" />
            <replace from="%ARGUMENT_NAME" to="data" />
            <replace from="%OUT_ARGUMENT_NAME" to="com.trolltech.qt.QtJambiInternal.byteArrayToNativePointer(data), data.length" />
        </insert-template>    
    </inject-code>
    
    <modify-function signature="loadFromData(QByteArray,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.image_load">
            <replace from="%FUNCTION_NAME" to="loadFromData" />
            <replace from="%ARGUMENT_TYPE" to="com.trolltech.qt.core.QByteArray" />
            <replace from="%ARGUMENT_NAME" to="data" />
            <replace from="%OUT_ARGUMENT_NAME" to="data" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="operator=(QImage)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QImage" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="setText(const char*,const char*,QString)">
        <remove />
    </modify-function>
    
    <modify-function signature="text(const char*,const char*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="fromData(QByteArray,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.image_load">
            <replace from="%FUNCTION_NAME" to="fromData" />
            <replace from="%ARGUMENT_TYPE" to="com.trolltech.qt.core.QByteArray" />
            <replace from="%ARGUMENT_NAME" to="data" />
            <replace from="%OUT_ARGUMENT_NAME" to="data" />
            <replace from="boolean" to="QImage" />
            <replace from="final" to="static" />
        </insert-template>        
    </inject-code>
    
    <modify-function signature="fromData(const unsigned char*,int,const char*)">
        <remove />
    </modify-function>        
  </value-type>

  <value-type name="QColormap">
    <extra-includes>
        <include file-name="QColor" location="global"/>
    </extra-includes>           
    <custom-constructor>
    return new QColormap(*copy);
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>    
    <modify-function signature="operator=(QColormap)">
        <access modifier="private" />
        <rename to="operator_assign_private" />        
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QColormap" />
        </insert-template>            
    </inject-code>
  </value-type>

  <value-type name="QCursor">  
    <template name="gui.cursor_bitmap_getter">
        <insert-template name="gui.getter_returning_nativepointer">
            <replace from="%RETURN_TYPE" to="QBitmap" />
        </insert-template>        
    </template>
  
    <extra-includes>
        <include file-name="QPixmap" location="global"/>
        <include file-name="com.trolltech.qt.QNativePointer" location="java"/>
    </extra-includes>
    <modify-function signature="bitmap()const">
        <access modifier="private" />
        <rename to="bitmap_private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.cursor_bitmap_getter">
            <replace from="%FUNCTION_NAME" to="bitmap" />
        </insert-template>
    </inject-code>    
    
    <modify-function signature="mask()const">
        <access modifier="private" />
        <rename to="mask_private" />    
    </modify-function>
    <inject-code>
        <insert-template name="gui.cursor_bitmap_getter">
            <replace from="%FUNCTION_NAME" to="mask" />
        </insert-template>
    </inject-code>    
    
    <modify-function signature="operator=(QCursor)">
        <access modifier="private" />
        <rename to="operator_assign_private" />                
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QCursor" />
        </insert-template>            
    </inject-code>    
    
  </value-type>
      
  <value-type name="QFontDatabase">
      <extra-includes>
        <include file-name="QStringList" location="global"/>
    </extra-includes>
  </value-type>  

  <value-type name="QPen">
      <extra-includes>
        <include file-name="QBrush" location="global"/>
    </extra-includes>
    <inject-code>
    public QPen(QColor color, double width, com.trolltech.qt.core.Qt.PenStyle s, com.trolltech.qt.core.Qt.PenCapStyle c, com.trolltech.qt.core.Qt.PenJoinStyle j) {
        this(new QBrush(color), width, s, c, j);
    }
    public QPen(QColor color, double width, com.trolltech.qt.core.Qt.PenStyle s, com.trolltech.qt.core.Qt.PenCapStyle c) {
        this(new QBrush(color), width, s, c);
    }
    public QPen(QColor color, double width, com.trolltech.qt.core.Qt.PenStyle s) {
        this(new QBrush(color), width, s);
    }
    public QPen(QColor color, double width) {
        this(new QBrush(color), width);
    }
    public static final QPen NoPen = new QPen(com.trolltech.qt.core.Qt.PenStyle.NoPen);
    </inject-code>
    <modify-function signature="operator=(QPen)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QPen" />
        </insert-template>            
    </inject-code>    
  </value-type>  
  
  <value-type name="QBrush">
    <modify-function signature="QBrush(Qt::GlobalColor, Qt::BrushStyle)">
      <remove/>
    </modify-function>    
      <extra-includes>
        <include file-name="QPixmap" location="global"/>
    </extra-includes>  
    
    <inject-code class="java">
    public static final QBrush NoBrush = new QBrush(com.trolltech.qt.core.Qt.BrushStyle.NoBrush);
    </inject-code>
    
    <modify-function signature="operator=(const QBrush &amp;)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QBrush" />
        </insert-template>            
    </inject-code>
    
    <modify-function signature="gradient()const">
        <!-- Use custom constructors already defined for gradient -->
        <modify-argument index="0">
            <replace-type modified-type="com.trolltech.qt.gui.QGradient" />
            <conversion-rule class="native">
                jobject %out = qtjambi_from_object(__jni_env, %in, "QGradient", "com/trolltech/qt/gui/", "Lcom_trolltech_qt_gui_QGradient_2", true);
            </conversion-rule>
        </modify-argument>
    </modify-function>
  </value-type>

  <value-type name="QColor">
    <modify-function signature="QColor(QColor::Spec)">
        <remove/>
    </modify-function>
    <inject-code class="java">
    public static final QColor white = new QColor(com.trolltech.qt.core.Qt.GlobalColor.white);
    public static final QColor black = new QColor(com.trolltech.qt.core.Qt.GlobalColor.black);
    public static final QColor red = new QColor(com.trolltech.qt.core.Qt.GlobalColor.red);
    public static final QColor darkRed = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkRed);
    public static final QColor green = new QColor(com.trolltech.qt.core.Qt.GlobalColor.green);
    public static final QColor darkGreen = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkGreen);
    public static final QColor blue = new QColor(com.trolltech.qt.core.Qt.GlobalColor.blue);
    public static final QColor darkBlue = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkBlue);
    public static final QColor cyan = new QColor(com.trolltech.qt.core.Qt.GlobalColor.cyan);
    public static final QColor darkCyan = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkCyan);
    public static final QColor magenta = new QColor(com.trolltech.qt.core.Qt.GlobalColor.magenta);
    public static final QColor darkMagenta = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkMagenta);
    public static final QColor yellow = new QColor(com.trolltech.qt.core.Qt.GlobalColor.yellow);
    public static final QColor darkYellow = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkYellow);
    public static final QColor gray = new QColor(com.trolltech.qt.core.Qt.GlobalColor.gray);
    public static final QColor darkGray = new QColor(com.trolltech.qt.core.Qt.GlobalColor.darkGray);
    public static final QColor lightGray = new QColor(com.trolltech.qt.core.Qt.GlobalColor.lightGray);
    public static final QColor transparent = new QColor(com.trolltech.qt.core.Qt.GlobalColor.transparent);
    public static final QColor color0 = new QColor(com.trolltech.qt.core.Qt.GlobalColor.color0);
    public static final QColor color1 = new QColor(com.trolltech.qt.core.Qt.GlobalColor.color1);
    </inject-code>
    <modify-function signature="QColor(const char*)">
        <remove />
    </modify-function>
        
    <modify-function signature="getCmyk(int*,int*,int*,int*,int*)">
        <remove />
    </modify-function>
    
    <modify-function signature="getCmykF(double*,double*,double*,double*,double*)">
        <remove />
    </modify-function>
    
    <modify-function signature="getHsv(int*,int*,int*,int*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="getHsvF(double*,double*,double*,double*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="getRgb(int*,int*,int*,int*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="getRgbF(double*,double*,double*,double*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="operator=(Qt::GlobalColor)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="com.trolltech.qt.core.Qt.GlobalColor" />
            <replace from="%OUT_TYPE" to="QColor" />
        </insert-template>                
    </inject-code>
    
    <modify-function signature="operator=(QColor)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QColor" />
        </insert-template>                
    </inject-code>        
  </value-type>
 
  <value-type name="QFontMetricsF">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <custom-constructor>
        return new QFontMetricsF(*copy);
    </custom-constructor>
    <custom-destructor>
        delete copy;
    </custom-destructor>
    <modify-function signature="operator!=(const QFontMetricsF &amp;)">
        <remove/>
    </modify-function>
    <modify-function signature="operator==(const QFontMetricsF &amp;)">
        <remove/>
    </modify-function>        
    
    <template name="gui.fontmetricsf_boundingrect">
        <insert-template name="gui.fontmetrics_tabarray_function">
            <replace from="%RETURN_TYPE" to="com.trolltech.qt.core.QRectF" />
            <replace from="%FUNCTION_NAME" to="boundingRect" />
            <replace from="%RECT_ARGUMENTS" to="%RECT_ARGUMENTS, " />
            <replace from="%RECT_CALL_ARGUMENTS" to="%RECT_CALL_ARGUMENTS, " />
        </insert-template>
    </template>

    
    <modify-function signature="boundingRect(QRectF,int,QString,int,int*)const">
        <access modifier="private" />
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontmetricsf_boundingrect">
            <replace from="%RECT_ARGUMENTS" to="com.trolltech.qt.core.QRectF rect" />
            <replace from="%RECT_CALL_ARGUMENTS" to="rect" />
        </insert-template>    
    </inject-code>

    <modify-function signature="operator=(QFontMetrics)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_other_type">
            <replace from="%IN_TYPE" to="QFontMetrics" />
            <replace from="%OUT_TYPE" to="QFontMetricsF" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="operator=(QFontMetricsF)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QFontMetricsF" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="size(int,QString,int,int*)const">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontmetrics_tabarray_function">
            <replace from="%RETURN_TYPE" to="com.trolltech.qt.core.QSizeF" />
            <replace from="%FUNCTION_NAME" to="size" />
            <replace from="%RECT_ARGUMENTS" to="" />
            <replace from="%RECT_CALL_ARGUMENTS" to="" />
        </insert-template>
    </inject-code>        
    

  </value-type>

  <value-type name="QFontMetrics">
    <custom-constructor>
        return new QFontMetrics(*copy);
    </custom-constructor>
    <custom-destructor>
        delete copy;
    </custom-destructor>
    <modify-function signature="operator!=(const QFontMetrics &amp;)">
        <remove/>
    </modify-function>
    <modify-function signature="operator==(const QFontMetrics &amp;)">
        <remove/>
    </modify-function>    
    
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    
    <template name="gui.fontmetrics_tabarray_function">
        public final %RETURN_TYPE %FUNCTION_NAME(%RECT_ARGUMENTSint flags, String text, int tabStops, int tabArray[]) {
            QNativePointer np = tabArray == null ? null : new QNativePointer(QNativePointer.Type.Int, tabArray.length + 1);
            if (np != null) {
                for (int i=0; i&lt;tabArray.length; ++i) np.setIntAt(i, tabArray[i]);
                np.setIntAt(tabArray.length, 0);
            }
            return %FUNCTION_NAME(%RECT_CALL_ARGUMENTSflags, text, tabStops, np);
        }
        
        public final %RETURN_TYPE %FUNCTION_NAME(%RECT_ARGUMENTSint flags, String text, int tabStops) {
            return %FUNCTION_NAME(%RECT_CALL_ARGUMENTSflags, text, tabStops, (int []) null);
        }        
        
        public final %RETURN_TYPE %FUNCTION_NAME(%RECT_ARGUMENTSint flags, String text) {
            return %FUNCTION_NAME(%RECT_CALL_ARGUMENTSflags, text, 0);
        }                
    </template>
    
    <template name="gui.fontmetrics_boundingrect">
        <insert-template name="gui.fontmetrics_tabarray_function">
            <replace from="%RETURN_TYPE" to="com.trolltech.qt.core.QRect" />
            <replace from="%FUNCTION_NAME" to="boundingRect" />
            <replace from="%RECT_ARGUMENTS" to="%RECT_ARGUMENTS, " />
            <replace from="%RECT_CALL_ARGUMENTS" to="%RECT_CALL_ARGUMENTS, " />
        </insert-template>
    </template>
    
    <modify-function signature="boundingRect(int,int,int,int,int,QString,int,int*)const">
        <access modifier="private" />
        <modify-argument index="7">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="8">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontmetrics_boundingrect">
            <replace from="%RECT_ARGUMENTS" to="int x, int y, int width, int height" />
            <replace from="%RECT_CALL_ARGUMENTS" to="x, y, width, height" />
        </insert-template>
    </inject-code>
        
    <modify-function signature="boundingRect(QRect,int,QString,int,int*)const">
        <access modifier="private" />
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontmetrics_boundingrect">
            <replace from="%RECT_ARGUMENTS" to="com.trolltech.qt.core.QRect rect" />
            <replace from="%RECT_CALL_ARGUMENTS" to="rect" />
        </insert-template>    
    </inject-code>
    
    <modify-function signature="operator=(QFontMetrics)">
        <access modifier="private" />
        <rename to="operator_assign_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.operator_assign_self_type">
            <replace from="%TYPE" to="QFontMetrics" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="size(int,QString,int,int*)const">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>                
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontmetrics_tabarray_function">
            <replace from="%RETURN_TYPE" to="com.trolltech.qt.core.QSize" />
            <replace from="%FUNCTION_NAME" to="size" />
            <replace from="%RECT_ARGUMENTS" to="" />
            <replace from="%RECT_CALL_ARGUMENTS" to="" />
        </insert-template>
    </inject-code>        
  </value-type>

  <value-type name="QGradient" polymorphic-base="yes" 
              polymorphic-id-expression="%1-&gt;type() == QGradient::NoGradient">
    <custom-constructor>
    Q_UNUSED(copy)
    qWarning("Copying empty QGradient object");
    return new QGradient();
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
    <modify-function signature="operator==(const QGradient &amp;)">
        <remove/>
    </modify-function>        
  </value-type>

  <value-type name="QLinearGradient"
              polymorphic-id-expression="%1-&gt;type() == QGradient::LinearGradient">
    <custom-constructor>
    QLinearGradient *lg = new QLinearGradient(copy->start(), copy->finalStop());
    lg->setSpread(copy->spread());
    lg->setStops(copy->stops());
    return (void *) lg;
    </custom-constructor>
    <custom-destructor>
    delete copy;
    </custom-destructor>
  </value-type>
    
  <interface-type name="QLayoutItem"/>
  <interface-type name="QPaintDevice"/>

  <interface-type name="QGraphicsItem">
    <modify-function signature="children()const">	
      <rename to="childItems"/>
    </modify-function>
    <modify-function signature="paint(QPainter *, const QStyleOptionGraphicsItem *, QWidget *)">
       <modify-argument index="2"> 
           <conversion-rule class="shell">
                jobject %out = qtjambi_from_object(__jni_env, %in, "QStyleOptionGraphicsItem", "com/trolltech/qt/gui/", "Lcom_trolltech_qt_gui_QStyleOption_2", true);
           </conversion-rule>       
           <conversion-rule class="native">
                const QStyleOptionGraphicsItem *%out = (QStyleOptionGraphicsItem *) qtjambi_to_object(__jni_env, %in);
           </conversion-rule>           
           <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionGraphicsItem" />
       </modify-argument>
    </modify-function>
  </interface-type>  
  
  <object-type name="QAbstractGraphicsShapeItem" />
    
  <object-type name="QAbstractItemView"/>  
  <object-type name="QAbstractPageSetupDialog"/>
  <object-type name="QAbstractPrintDialog"/>
  <object-type name="QAbstractSlider"/>  
  <object-type name="QAbstractTextDocumentLayout"/>
  <object-type name="QAccessible"/>
  <object-type name="QAccessibleBridge"/>
  <object-type name="QAccessibleBridgeFactoryInterface"/>
  <object-type name="QAccessibleBridgePlugin"/>
  <object-type name="QAccessibleFactoryInterface"/>
  <object-type name="QAccessible2Interface" />
  <object-type name="QAccessibleEditableTextInterface" />
  <object-type name="QAccessibleSimpleEditableTextInterface" />
  <object-type name="QAccessibleTextInterface" />
  <object-type name="QAccessibleValueInterface" />
  
  <object-type name="QAccessibleInterface">
    <inject-code>
        public static class Target {            
            public Target(int childIndex, QAccessibleInterface target) {
                this.childIndex = childIndex;
                this.target = target;
            }
        
            public QAccessibleInterface target;
            public int childIndex;
        }
    </inject-code>  
    
    <template name="gui.accessible_interface_to_target">            
        jclass __target_class = resolveClass(__jni_env, "QAccessibleInterface$Target", "com/trolltech/qt/gui/");
        QTJAMBI_EXCEPTION_CHECK(__jni_env);
        Q_ASSERT(__target_class);        
        
        jmethodID __target_constructor = resolveMethod(__jni_env, "&lt;init>", "(ILcom/trolltech/qt/gui/QAccessibleInterface;)V", "QAccessibleInterface$Target", "com/trolltech/qt/gui/");
        QTJAMBI_EXCEPTION_CHECK(__jni_env);
        Q_ASSERT(__target_constructor);        
        
        jobject __java_interface = %TARGET != 0 ? qtjambi_from_object(__jni_env, %TARGET, "QAccessibleInterface$ConcreteWrapper", "com/trolltech/qt/gui/", true) : 0;
                                                                        
        jobject %OUTPUT = __jni_env->NewObject(__target_class, __target_constructor, %CHILD_INDEX, __java_interface);
    </template>
    
    <modify-function signature="navigate(QAccessible::RelationFlag,int,QAccessibleInterface**)const">
        <modify-argument index="3">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing
            </conversion-rule>
            <conversion-rule class="native">
                QAccessibleInterface *__qt_interface = 0;
                QAccessibleInterface **%out = &amp;__qt_interface;            
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="0">
            <replace-type modified-type="com.trolltech.qt.gui.QAccessibleInterface$Target" />
            <conversion-rule class="native">
                <insert-template name="gui.accessible_interface_to_target">
                    <replace from="%TARGET" to="__qt_interface" />
                    <replace from="%CHILD_INDEX" to="%in" />
                    <replace from="%OUTPUT" to="%out" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="shell">
                jfieldID __childIndex_id = resolveField(__jni_env, "childIndex", "I", "QAccessibleInterface$Target", "com/trolltech/qt/gui/");
                Q_ASSERT(__childIndex_id);
                
                jfieldID __target_id = resolveField(__jni_env, "target", "Lcom/trolltech/qt/gui/QAccessibleInterface;", "QAccessibleInterface$Target", "com/trolltech/qt/gui/");
                Q_ASSERT(__target_id);

                jint %out = __jni_env->GetIntField(%in, __childIndex_id);
                
                jobject __java_interface = __jni_env->GetObjectField(%in, __target_id);
                QtJambiLink *__qt_link = __java_interface != 0 ? QtJambiLink::findLink(__jni_env, __java_interface) : 0;
                if (__qt_link != 0) __qt_link->disableGarbageCollection(__jni_env, __java_interface);
                QAccessibleInterface *__qt_interface = __qt_link != 0 ? (QAccessibleInterface *) __qt_link->pointer() : 0;
                                
                if (%3 != 0) *%3 = __qt_interface;                
            </conversion-rule>            
        </modify-argument>
    </modify-function>
  </object-type>
  
  <object-type name="QAccessibleInterfaceEx"/>
  <object-type name="QAccessibleObject"/>
  <object-type name="QAccessibleObjectEx"/>
  <object-type name="QAccessiblePlugin"/>
  <object-type name="QAccessibleWidget"/>
  <object-type name="QAccessibleWidgetEx"/>  
  <object-type name="QActionGroup"/>
  <object-type name="QCDEStyle"/>
  <object-type name="QCheckBox">
    <modify-function signature="initStyleOption(QStyleOptionButton*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionButton" />
        </insert-template>
    </inject-code>
  </object-type>
  <object-type name="QCleanlooksStyle"/>
  <object-type name="QCommonStyle"/>
  <object-type name="QDataWidgetMapper"/>
  <object-type name="QDateEdit"/>
  <object-type name="QDesktopServices">
    <modify-function signature="setUrlHandler(QString,QObject*,const char*)">
        <remove />
    </modify-function>    
  </object-type>
  <object-type name="QDialog"/>  
  <object-type name="QDialogButtonBox"/>
  <object-type name="QDirModel"/>
  <object-type name="QDoubleValidator"/>
  <object-type name="QFileIconProvider"/>
  <object-type name="QWizard" />
  <object-type name="QWizardPage" />
  <object-type name="QFocusFrame">
    <modify-function signature="initStyleOption(QStyleOption*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOption" />
        </insert-template>
    </inject-code>  
  </object-type>
  <object-type name="QFontComboBox"/>
  
  <object-type name="QFontDialog">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <inject-code>
        public static final class Result {
            public Result(QFont font, boolean ok) {
                this.font = font;
                this.ok = ok;
            }            
            public QFont font;
            public boolean ok;
        }    
    </inject-code>    
    <template name="gui.fontdialog_get_font_general">
        public static Result getFont(%FONT_ARGUMENT %COMMA QWidget parent %STRING_ARGUMENT) {
            QNativePointer np = new QNativePointer(QNativePointer.Type.Boolean);
            QFont returned = getFont(np, %FONT_CALL_ARGUMENT %COMMA parent %STRING_CALL_ARGUMENT);
            return new Result(returned, np.booleanValue());
        }                
    </template>
    
    <template name="gui.fontdialog_get_font_nocaption">
        <insert-template name="gui.fontdialog_get_font_general">
            <replace from="%STRING_ARGUMENT" to="" />
            <replace from="%STRING_CALL_ARGUMENT" to="" />
        </insert-template>
        
        public static Result getFont(%FONT_ARGUMENT) {
            return getFont(%FONT_CALL_ARGUMENT %COMMA (QWidget) null);
        }
    </template>
  
    <modify-function signature="getFont(bool*,QFont,QWidget*,QString)">
        <access modifier="private" />        
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontdialog_get_font_general">
            <replace from="%FONT_ARGUMENT %COMMA" to="QFont initial," />
            <replace from="%STRING_ARGUMENT" to=", String caption" />
            <replace from="%FONT_CALL_ARGUMENT %COMMA" to="initial," />
            <replace from="%STRING_CALL_ARGUMENT" to=", caption" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="getFont(bool*,QWidget*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.fontdialog_get_font_nocaption">
            <replace from="%FONT_ARGUMENT" to="" />
            <replace from="%COMMA" to="" />
            <replace from="%FONT_CALL_ARGUMENT" to="" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="getFont(bool*,QFont,QWidget*)">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>     
    <inject-code>
        <insert-template name="gui.fontdialog_get_font_nocaption">
            <replace from="%FONT_ARGUMENT" to="QFont initial" />
            <replace from="%COMMA" to=", " />
            <replace from="%FONT_CALL_ARGUMENT" to="initial" />
        </insert-template>
    </inject-code>    
  </object-type>
  
  <object-type name="QGraphicsEllipseItem"/>
  <object-type name="QGraphicsItemAnimation"/>
  <object-type name="QGraphicsItemGroup"/>
  <object-type name="QGraphicsLineItem"/>
  <object-type name="QGraphicsPathItem"/>
  <object-type name="QGraphicsPixmapItem"/>
  <object-type name="QGraphicsPolygonItem"/>
  <object-type name="QGraphicsRectItem"/>
  <object-type name="QGraphicsSimpleTextItem"/>
  <object-type name="QHBoxLayout"/>
  <object-type name="QHeaderView">
    <modify-function signature="initStyleOption(QStyleOptionHeader*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionHeader" />
        </insert-template>
    </inject-code>  
  </object-type>
  <object-type name="QIconEngine"/>
  <object-type name="QIconEngineV2"/>
  <object-type name="QImageIOHandlerFactoryInterface"/>
  <object-type name="QImageIOPlugin"/>
  <object-type name="QImageWriter"/>
  <object-type name="QInputContextFactory"/>
  <object-type name="QInputContextFactoryInterface"/>
  <object-type name="QInputContextPlugin"/>
  <object-type name="QIntValidator"/>
  <object-type name="QItemDelegate">  
    <modify-function signature="doLayout(QStyleOptionViewItem,QRect*,QRect*,QRect*,bool)const">
        <remove />
    </modify-function>
    
    <modify-function signature="selected(QPixmap,QPalette,bool)const">
        <remove />
    </modify-function>
    
  </object-type>
  <object-type name="QItemEditorCreatorBase"/>
  <object-type name="QItemEditorFactory"/>
  <object-type name="QItemSelectionModel"/>
  <object-type name="QTreeModel"/>
  <object-type name="QListView"/>
  <object-type name="QColumnView"/>
  <object-type name="QMainWindow"/>
  <object-type name="QMdiArea" />
  <object-type name="QMdiSubWindow" />
  <object-type name="QMenu">
    <modify-function signature="initStyleOption(QStyleOptionMenuItem*,const QAction*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        protected final void initStyleOption(com.trolltech.qt.gui.QStyleOptionMenuItem option, QAction action) {
            initStyleOption(option.nativePointer(), action);
        }
    </inject-code>  

    <template name="gui.addAction">
        public final QAction addAction(%EXTRA String text, Object receiver, String method %END_EXTRA) {
            QAction returned = addAction(%CALL_EXTRA text %END_CALL_EXTRA);
            %POST_CALL            
            returned.triggered.connect(receiver, method);
            
            return returned;
        }
        
        public final QAction addAction(%EXTRA String text, com.trolltech.qt.core.QObject.AbstractSignal signal %END_EXTRA) {
            QAction returned = addAction(%CALL_EXTRA text %END_CALL_EXTRA);
            %POST_CALL
            returned.triggered.connect(signal);
            return returned;
        }
    </template>        
    
    <template name="gui.addAction_with_shortcut">
        <insert-template name="gui.addAction">
            <replace from="%POST_CALL" to="returned.setShortcut(shortcut);" />
            <replace from=" %END_EXTRA" to=", QKeySequence shortcut" />
            <replace from=" %END_CALL_EXTRA" to="" />
        </insert-template>
        
        public final QAction addAction(%EXTRA String text, Object receiver, String method) {
            return addAction(%CALL_EXTRA text, receiver, method, new QKeySequence(0));
        }        
        
        public final QAction addAction(%EXTRA String text, com.trolltech.qt.core.QObject.AbstractSignal signal) {
            return addAction(%CALL_EXTRA text, signal, new QKeySequence(0));
        }
    </template>
    
    <modify-function signature="addAction(QString,const QObject*,const char*,QKeySequence)">
        <remove />        
    </modify-function>
    <inject-code>
        <insert-template name="gui.addAction_with_shortcut">
            <replace from="%EXTRA " to="" />
            <replace from="%CALL_EXTRA " to="" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="addAction(QIcon,QString,const QObject*,const char*,QKeySequence)">
        <remove />
    </modify-function>
    <inject-code>
        <insert-template name="gui.addAction_with_shortcut">
            <replace from="%EXTRA" to="QIcon icon," />
            <replace from="%CALL_EXTRA" to="icon," />
        </insert-template>    
    </inject-code>
    
  </object-type>
  
  <object-type name="QMenuBar">  
    <modify-function signature="addAction(QString,const QObject*,const char*)">
        <remove />
    </modify-function>
    <inject-code>
        <insert-template name="gui.addAction">
            <replace from="%POST_CALL" to="" />
            <replace from=" %END_EXTRA" to="" />
            <replace from=" %END_CALL_EXTRA" to="" />        
            <replace from="%EXTRA " to="" />
            <replace from="%CALL_EXTRA " to="" />            
        </insert-template>
    </inject-code>
    
    <modify-function signature="initStyleOption(QStyleOptionMenuItem*,const QAction*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        protected final void initStyleOption(com.trolltech.qt.gui.QStyleOptionMenuItem option, QAction action) {
            initStyleOption(option.nativePointer(), action);
        }
    </inject-code>      
  </object-type>
  <object-type name="QMotifStyle"/>
  <object-type name="QPainterPathStroker"/>
  <object-type name="QPictureFormatInterface"/>
  <object-type name="QPictureFormatPlugin"/>
 
  <object-type name="QPictureIO">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <modify-function signature="QPictureIO(QIODevice*,const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public QPictureIO(com.trolltech.qt.core.QIODevice ioDevice, String format) {
            this(ioDevice, QNativePointer.createCharPointer(format));
        }
    </inject-code>
    
    <modify-function signature="QPictureIO(QString,const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public QPictureIO(String fileName, String format) {
            this(fileName, QNativePointer.createCharPointer(format));
        }
    </inject-code>        
        
    <modify-function signature="format()const">
        <access modifier="private" />
        <rename to="format_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.return_string_instead_of_char*">
            <replace from="%FUNCTION_NAME" to="format" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="parameters()const">
        <access modifier="private" />
        <rename to="parameters_private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.return_string_instead_of_char*">
            <replace from="%FUNCTION_NAME" to="parameters" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="setFormat(const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.call_with_string_instead_of_char*">
            <replace from="%FUNCTION_NAME" to="setFormat" />
            <replace from="%ARG_NAME" to="format" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="setParameters(const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="core.call_with_string_instead_of_char*">
            <replace from="%FUNCTION_NAME" to="setParameters" />
            <replace from="%ARG_NAME" to="parameters" />
        </insert-template>
    </inject-code>      
  </object-type>
  
  <object-type name="QPixmapCache">
    <modify-function signature="find(QString)">
        <remove />
    </modify-function>
    
    <modify-function signature="find(QString,QPixmap&amp;)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public static boolean find(String key, QPixmap pm) {
            return find(key, pm.nativePointer());
        }
    </inject-code>
  
  </object-type>
  <object-type name="QPlastiqueStyle"/>
  <object-type name="QPrintDialog"/>  
  <object-type name="QPrintEngine"/>
  <object-type name="QProgressBar">
    <modify-function signature="initStyleOption(QStyleOptionProgressBar*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionProgressBar" />
        </insert-template>
    </inject-code>
  </object-type>
  <object-type name="QPushButton">
    <modify-function signature="initStyleOption(QStyleOptionButton*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionButton" />
        </insert-template>
    </inject-code>  
  </object-type>
  <object-type name="QReadWriteLock"/>
  <object-type name="QRegExpValidator"/>
  <object-type name="QScrollArea"/>
  <object-type name="QSessionManager"/>
  <object-type name="QShortcut">
    <modify-function signature="QShortcut(QKeySequence,QWidget*,const char*,const char*,Qt::ShortcutContext)">
        <access modifier="private" />
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>    
    <inject-code>
        public QShortcut(QKeySequence key, QWidget parent) {
            this(key, parent, null, null, com.trolltech.qt.core.Qt.ShortcutContext.WindowShortcut);
        }        
        
        public QShortcut(QKeySequence key, QWidget parent, com.trolltech.qt.core.Qt.ShortcutContext context) {
            this(key, parent, null, null, context);
        }
    </inject-code>
    
  </object-type>
  <object-type name="QSizeGrip"/>
  <object-type name="QSound"/>  
  <object-type name="QSpacerItem"/>
  <object-type name="QStandardItem">
    <modify-function signature="appendColumn(const QList&lt;QStandardItem *> &amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="appendRow(const QList&lt;QStandardItem *> &amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="appendRow(QStandardItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertColumn(int, const QList&lt;QStandardItem *> &amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertRow(int, const QList&lt;QStandardItem *> &amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="insertRow(int, QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="setChild(int,int,QStandardItem *)">
        <modify-argument index="3">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="setChild(int,QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>    
    </modify-function>
    
    <modify-function signature="clone()const">
        <modify-argument index="return">
            <define-ownership class="shell" owner="c++" />
        </modify-argument>
    </modify-function>
  </object-type>
  <object-type name="QStatusBar"/>
  <object-type name="QStringListModel"/>
  <object-type name="QStyleFactory"/>
  <object-type name="QStyleFactoryInterface"/>
  <object-type name="QStyleHintReturn"/>
  <object-type name="QStyleHintReturnVariant" />
  <object-type name="QStyleHintReturnMask"/>
  <object-type name="QStylePainter"/>
  <object-type name="QStylePlugin"/>
  <object-type name="QSyntaxHighlighter"/>
  <object-type name="QSystemTrayIcon"/>
  <object-type name="QTableView"/>
  <object-type name="QTextBlockGroup"/>
  <object-type name="QTextBlockUserData"/>
  <object-type name="QTextItem"/>
  <object-type name="QTextList"/>
  <object-type name="QTextObject"/>
  <object-type name="QTextObjectInterface"/>
  <object-type name="QTimeEdit"/>
  <object-type name="QToolBox"/>
  <object-type name="QToolButton">
    <modify-function signature="initStyleOption(QStyleOptionToolButton*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionToolButton" />
        </insert-template>
    </inject-code>  
  </object-type>
  <object-type name="QToolTip"/>
  <object-type name="QTreeView"/>
  <object-type name="QUndoCommand"/>
  <object-type name="QUndoGroup"/>
  <object-type name="QUndoStack"/>
  <object-type name="QUndoView"/>
  <object-type name="QVBoxLayout" />
  <object-type name="QValidator">
    <inject-code>
        public static class QValidationData {
            public QValidationData(String input, int pos) {
                string = input;
                position = pos;
            }
            public String string;
            public int position;
        }    
    </inject-code>
  
    <modify-function signature="fixup(QString&amp;)const">
        <modify-argument index="1">
            <replace-type modified-type="java.lang.String" />
            <conversion-rule class="shell">
                jobject %out = (jobject) qtjambi_from_qstring(__jni_env, %in);
            </conversion-rule>
            <conversion-rule class="native">
                QString %out = qtjambi_to_qstring(__jni_env, (jstring) %in);
                QString *__qt_converted = &amp;%out;
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="0">
            <replace-type modified-type="java.lang.String"/>
            <conversion-rule class="native">
                jobject %out = (jobject) qtjambi_from_qstring(__jni_env, *__qt_converted);
            </conversion-rule>
            <conversion-rule class="shell">                
                %1 = qtjambi_to_qstring(__jni_env, (jstring) %in);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
       
    <modify-function signature="validate(QString&amp;,int&amp;)const">               
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QValidator$QValidationData" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_validationdata_to_java">
                    <replace from="%STRING" to="%1" />
                    <replace from="%POS" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_validationdata_to_string" />
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing needed
            </conversion-rule>            
            <conversion-rule class="native">
                <insert-template name="gui.convert_validationdata_to_pos">
                    <replace from="%VALIDATIONDATA" to="%1" />
                </insert-template>
            </conversion-rule>                        
        </modify-argument>
        
        <modify-argument index="return">
            <conversion-rule class="native">
                <insert-template name="gui.cleanup_validationdata_from_java" />
                jint %out = %in;            
            </conversion-rule>
            <conversion-rule class="shell">
                <insert-template name="gui.cleanup_validationdata_to_java">
                    <replace from="%STRING" to="%1" />
                    <replace from="%POS" to="%2" />
                </insert-template>
                QValidator::State %out = (QValidator::State) qtjambi_to_enumerator(__jni_env, %in);                
            </conversion-rule>                            
        </modify-argument>        
    </modify-function>    
  </object-type>
  <object-type name="QWhatsThis"/>
  <object-type name="QWidgetAction"/>
  <object-type name="QWidgetItem"/>
  <object-type name="QWindowsStyle"/>
  <object-type name="QWorkspace"/>
  
  <object-type name="QActionEvent"
           polymorphic-id-expression="%1->type() == QEvent::ActionAdded || %1->type() == QEvent::ActionRemoved || %1->type() == QEvent::ActionChanged" />
  <object-type name="QClipboardEvent"
           polymorphic-id-expression="%1->type() == QEvent::Clipboard" />
  <object-type name="QCloseEvent"
           polymorphic-id-expression="%1->type() == QEvent::Close"/>  
  <object-type name="QContextMenuEvent"
           polymorphic-id-expression="%1->type() == QEvent::ContextMenu"/>
  <object-type name="QDragEnterEvent"
           polymorphic-id-expression="%1->type() == QEvent::DragEnter"/>
  <object-type name="QDragLeaveEvent"
           polymorphic-id-expression="%1->type() == QEvent::DragLeave"/>
  <object-type name="QDragMoveEvent"
           polymorphic-id-expression="%1->type() == QEvent::DragMove"/>
  <object-type name="QDropEvent"
           polymorphic-id-expression="%1->type() == QEvent::Drop">
    <modify-function signature="encodedData(const char*)const">
        <remove />
    </modify-function>
    
    <modify-function signature="format(int)const">
        <remove />
    </modify-function>
    
    <modify-function signature="provides(const char*)const">
        <remove />
    </modify-function>
    
               
  </object-type>
  <object-type name="QFileOpenEvent"
           polymorphic-id-expression="%1->type() == QEvent::FileOpen"/>
  <object-type name="QFocusEvent"
           polymorphic-id-expression="%1->type() == QEvent::FocusIn || %1->type() == QEvent::FocusOut">
        <modify-function signature="reason()const">
            <remove/>
        </modify-function>                   
  </object-type>
           
  <object-type name="QGraphicsSceneContextMenuEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneContextMenu"/>
  <object-type name="QGraphicsSceneDragDropEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneDragEnter || %1->type() == QEvent::GraphicsSceneDragLeave || %1->type() == QEvent::GraphicsSceneDragMove || %1->type() == QEvent::GraphicsSceneDrop"/>
  <object-type name="QGraphicsSceneEvent"/>
  <object-type name="QGraphicsSceneHelpEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneHelp"/>
  <object-type name="QGraphicsSceneHoverEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneHoverEnter || %1->type() == QEvent::GraphicsSceneHoverLeave || %1->type() == QEvent::GraphicsSceneHoverMove"/>
  <object-type name="QGraphicsSceneMouseEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneMouseDoubleClick || %1->type() == QEvent::GraphicsSceneMouseMove || %1->type() == QEvent::GraphicsSceneMousePress || %1->type() == QEvent::GraphicsSceneMouseRelease"/>
  <object-type name="QGraphicsSceneWheelEvent"
               polymorphic-id-expression="%1->type() == QEvent::GraphicsSceneWheel"/>
  <object-type name="QHelpEvent" 
               polymorphic-id-expression="%1->type() == QEvent::ToolTip || %1->type() == QEvent::WhatsThis"/>
  <object-type name="QHideEvent" 
               polymorphic-id-expression="%1->type() == QEvent::Hide"/>
  <object-type name="QHoverEvent"
               polymorphic-id-expression="%1->type() == QEvent::HoverEnter || %1->type() == QEvent::HoverLeave || %1->type() == QEvent::HoverMove"/>
  <object-type name="QIconDragEvent"
               polymorphic-id-expression="%1->type() == QEvent::IconDrag"/>
  <object-type name="QInputMethodEvent"
               polymorphic-id-expression="%1->type() == QEvent::InputMethod"/>
  <object-type name="QMoveEvent"
               polymorphic-id-expression="%1->type() == QEvent::Move"/>
  <object-type name="QResizeEvent"
               polymorphic-id-expression="%1->type() == QEvent::Resize"/>
  <object-type name="QShortcutEvent"
               polymorphic-id-expression="%1->type() == QEvent::Shortcut">
        <!-- All these have const overloads that are used instead -->
        <modify-function signature="isAmbiguous()">
            <remove />
        </modify-function>               
        <modify-function signature="shortcutId()">
            <remove />
        </modify-function>                    
        <modify-function signature="key()">
            <remove />
        </modify-function>                          
  </object-type>
  <object-type name="QShowEvent"
               polymorphic-id-expression="%1->type() == QEvent::Show"/>
  <object-type name="QStatusTipEvent"
               polymorphic-id-expression="%1->type() == QEvent::StatusTip"/>
  <object-type name="QTabletEvent"
               polymorphic-id-expression="%1->type() == QEvent::TabletMove || %1->type() == QEvent::TabletPress || %1->type() == QEvent::TabletRelease"/>
  <object-type name="QToolBarChangeEvent"
               polymorphic-id-expression="%1->type() == QEvent::ToolBarChange"/>
  <object-type name="QWhatsThisClickedEvent"
               polymorphic-id-expression="%1->type() == QEvent::WhatsThisClicked"/>
  <object-type name="QWheelEvent"
               polymorphic-id-expression="%1->type() == QEvent::Wheel"/>
  <object-type name="QWindowStateChangeEvent"
               polymorphic-id-expression="%1->type() == QEvent::WindowStateChange"/>
  <object-type name="QDragResponseEvent" 
               polymorphic-id-expression="%1->type() == QEvent::DragResponse"/>
  <object-type name="QInputEvent" />  
  <object-type name="QKeyEvent" 
               polymorphic-id-expression="%1->type() == QEvent::KeyPress || %1->type() == QEvent::KeyRelease"/>
  <object-type name="QMouseEvent" 
               polymorphic-id-expression="%1->type() == QEvent::MouseButtonDblClick || %1->type() == QEvent::MouseButtonPress || %1->type() == QEvent::MouseButtonRelease || %1->type() == QEvent::MouseMove"/>
  <object-type name="QPaintEvent" 
               polymorphic-id-expression="%1->type() == QEvent::Paint"/>
  <object-type name="QAccessibleEvent"
               polymorphic-id-expression="%1->type() == QEvent::AccessibilityDescription || %1->type() == QEvent::AccessibilityHelp"/>
  
  <object-type name="QAbstractButton">
    <inject-code class="java">
        /**
         * Sets the shortcut to the key sequence for the given key string. For example "Ctrl+O" gives CTRL+'O'. 
         * The strings "Ctrl", "Shift", "Alt" and "Meta" are recognized, as well as their translated equivalents in the 
         * "QShortcut" context (using QObject::tr()). Up to four key codes may be entered by separating them with commas, 
         * e.g. "Alt+X,Ctrl+S,Q".
         * @param key The description of the key sequence. Typically used with tr() so key sequences can be locale aware.
         */
        public void setShortcut(String key) { setShortcut(new QKeySequence(key)); }
        
        /**
         * Sets the shortcut to the key sequence for the given key. The result will depend on the currently running platform.
         * The key sequence will be based on the first element in the list of key bindings for the key. 
         * @param key The key for which to select a key sequence 
         */  
        public void setShortcut(QKeySequence.StandardKey key) { setShortcut(new QKeySequence(key)); }
    </inject-code>
  </object-type>

  <template name="gui::qstyleoption_from_object">
    jobject %out = qtjambi_from_object(__jni_env, %in, "QStyleOption", "com/trolltech/qt/gui/", "Lcom_trolltech_qt_gui_QStyleOption_2", true);
  </template>

  <template name="gui::qstyleoptioncomplex_from_object">
    jobject %out = qtjambi_from_object(__jni_env, %in, "QStyleOptionComplex", "com/trolltech/qt/gui/", "Lcom_trolltech_qt_gui_QStyleOption_2", true);
  </template>

  <template name="gui::qstyleoption_to_object">
    QStyleOption *%out = (QStyleOption *) qtjambi_to_object(__jni_env, %in);
  </template>

  <object-type name="QStyle">
    <modify-function signature="drawControl(QStyle::ControlElement, const QStyleOption *, QPainter *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>

    <modify-function signature="drawComplexControl(QStyle::ComplexControl, const QStyleOptionComplex *, QPainter *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionComplex" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoptioncomplex_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>

    <modify-function signature="drawPrimitive(QStyle::PrimitiveElement, const QStyleOption *, QPainter *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>

    <modify-function signature="hitTestComplexControl(QStyle::ComplexControl, const QStyleOptionComplex *, const QPoint &amp;, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionComplex" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoptioncomplex_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="pixelMetric(QStyle::PixelMetric, const QStyleOption *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>

    <modify-function signature="sizeFromContents(QStyle::ContentsType, const QStyleOption *, const QSize &amp;, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
       </modify-argument>
    </modify-function>

    <modify-function signature="standardIcon(QStyle::StandardPixmap, const QStyleOption *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="standardPixmap(QStyle::StandardPixmap, const QStyleOption *, const QWidget *) const">
        <modify-argument index="2">            
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="styleHint(QStyle::StyleHint, const QStyleOption *, const QWidget *, QStyleHintReturn *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="subControlRect(QStyle::ComplexControl, const QStyleOptionComplex *, QStyle::SubControl, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionComplex" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoptioncomplex_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                QStyleOptionComplex *%out = (QStyleOptionComplex *) qtjambi_to_object(__jni_env, %in);
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="subElementRect(QStyle::SubElement, const QStyleOption *, const QWidget *) const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
    
    <modify-function signature="generatedIconPixmap(QIcon::Mode,QPixmap,const QStyleOption*)const">
        <modify-argument index="3">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>            
        </modify-argument>
    </modify-function>

    <modify-function signature="polish(QPalette&amp;)">
        <inject-code class="shell" position="beginning">
            jobject __invalidate_me;
        </inject-code>
        <inject-code class="shell" position="end">
            // In case someone keeps a reference to this object
            qtjambi_invalidate_object(qtjambi_current_environment(), __invalidate_me);
        </inject-code>            
    
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QPalette" />
            <conversion-rule class="shell">
                jobject %out = qtjambi_from_object(__jni_env, &amp;%in, "QPalette", "com/trolltech/qt/gui/", false);
                __invalidate_me = %out;
            </conversion-rule>
            <conversion-rule class="native">
                QtJambiLink *link = QtJambiLink::findLink(__jni_env, %in);
                Q_ASSERT(link != 0);

                QPalette dummy;
                QPalette &amp;%out = link != 0 ? * (QPalette *) link->pointer() : dummy;
            </conversion-rule>            
        </modify-argument>        
    </modify-function>
    
    <modify-function signature="standardIconImplementation(QStyle::StandardPixmap,const QStyleOption*,const QWidget*)const">
        <modify-argument index="2">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOption" />
            <conversion-rule class="shell">
                <insert-template name="gui::qstyleoption_from_object" />                
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui::qstyleoption_to_object" />
            </conversion-rule>            
        </modify-argument>
    </modify-function>
  </object-type>


  <object-type name="QColorDialog">
    <modify-function signature="getColor(const QColor &amp;, QWidget *)">
      <modify-argument index="1">
        <replace-default-expression with="QColor.white"/>      
      </modify-argument>
    </modify-function>
    <modify-function signature="getRgba(uint,bool*,QWidget*)">
        <remove />
    </modify-function>    
  </object-type>
  
  <object-type name="QLayout">  
    <modify-function signature="addWidget(QWidget *)">
        <modify-argument index="1">
            <no-null-pointer />
        </modify-argument>
    </modify-function>    
    <modify-function signature="addItem(QLayoutItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addChildLayout(QLayout *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addChildLayout(QLayout *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="itemAt(int) const">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>            
  </object-type>

  <object-type name="QStackedLayout">  
    <modify-function signature="addItem(QLayoutItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="itemAt(int) const">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addWidget(QWidget *)">
        <rename to="addStackedWidget"/>
    </modify-function>    
  </object-type>
  
  <object-type name="QBoxLayout">  
    <modify-function signature="addWidget(QWidget *, int, QFlags&lt;Qt::AlignmentFlag>)">
        <modify-argument index="1">
            <no-null-pointer />
        </modify-argument>
    </modify-function>  
    <modify-function signature="addItem(QLayoutItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertLayout(int, QLayout *, int)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="insertItem(int, QLayoutItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>            
    </modify-function>    
    <modify-function signature="addLayout(QLayout *, int)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>            
  </object-type>

  <object-type name="QGridLayout">  
    <modify-function signature="addItem(QLayoutItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addItem(QLayoutItem *, int, int, int, int, QFlags&lt;Qt::AlignmentFlag&gt;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="addLayout(QLayout *, int, int, QFlags&lt;Qt::AlignmentFlag&gt;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addLayout(QLayout *, int, int, int, int, QFlags&lt;Qt::AlignmentFlag&gt;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>            
    
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <modify-function signature="getItemPosition(int,int*,int*,int*,int*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>        
        public final QTableArea getItemPosition(int index) {
            QNativePointer row = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer column = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer rowSpan = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer columnSpan = new QNativePointer(QNativePointer.Type.Int);
            
            getItemPosition(index, row, column, rowSpan, columnSpan);
            
            return new QTableArea(row.intValue(), column.intValue(), rowSpan.intValue(), columnSpan.intValue());
        }
    </inject-code>    
  </object-type>
  
  <object-type name="QGraphicsView">
    <extra-includes>
      <include file-name="QPainterPath" location="global"/>
      <include file-name="QVarLengthArray" location="global" />      
    </extra-includes>    
    
    <modify-function signature="drawItems(QPainter*,int,QGraphicsItem**,const QStyleOptionGraphicsItem*)">
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="core.get_array_length">
                    <replace from="%ARRAY" to="%3" />
                </insert-template>
                int __length = %out;
            </conversion-rule>            
        </modify-argument>    
        
        <modify-argument index="3">
            <replace-type modified-type="com.trolltech.qt.gui.QGraphicsItemInterface[]" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_graphicsitem_array_to_java">
                    <replace from="%LENGTH" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_graphicsitem_array_from_java" />              
            </conversion-rule>            
        </modify-argument>        
        
        <modify-argument index="4">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionGraphicsItem[]" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_styleoptiongraphicsitem_array_to_java">
                    <replace from="%LENGTH" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_styleoptiongraphicsitem_array_from_java" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
  </object-type>

  <template name="gui.inputDialog_get_input">
    public static %RETURN_TYPE %FUNCTION_NAME(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, %EXTRA, com.trolltech.qt.core.Qt.WindowFlags f) {
        com.trolltech.qt.QNativePointer ok = new com.trolltech.qt.QNativePointer(com.trolltech.qt.QNativePointer.Type.Boolean);
        %RETURN_TYPE result = %FUNCTION_NAME_internal(parent, title, label, %CALL, ok, f);
        return ok.booleanValue() ? result : null;
    }

    public static %RETURN_TYPE %FUNCTION_NAME(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, %EXTRA, com.trolltech.qt.core.Qt.WindowType ... f) {
        return %FUNCTION_NAME(parent, title, label, %CALL, new com.trolltech.qt.core.Qt.WindowFlags(f));
    }    

    public static %RETURN_TYPE %FUNCTION_NAME(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, %EXTRA) {
        return %FUNCTION_NAME(parent, title, label, %CALL, com.trolltech.qt.core.Qt.WindowType.Widget);
    }
    
  </template>
  
  <object-type name="QInputDialog">
    <modify-function signature="getDouble(QWidget *, const QString &amp;, const QString &amp;, double, double, double, int, bool *, QFlags&lt;Qt::WindowType>)">
        <rename to="getDouble_internal"/>
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.inputDialog_get_input">
            <replace from="%RETURN_TYPE" to="Double" />
            <replace from="%EXTRA" to="double value, double minValue, double maxValue, int decimals" />
            <replace from="%FUNCTION_NAME" to="getDouble" />
            <replace from="%CALL" to="value, minValue, maxValue, decimals" />
        </insert-template>    

        public static Double getDouble(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, double value, double minValue, double maxValue) {
            return getDouble(parent, title, label, value, minValue, maxValue, 1);
        }            
        
        public static Double getDouble(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, double value, double minValue) {        
            return getDouble(parent, title, label, value, minValue, (double)2147483647);
        }


        public static Double getDouble(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, double value) {
            return getDouble(parent, title, label, value, (double)-2147483647);
        }    
    
        public static Double getDouble(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label) {
            return getDouble(parent, title, label, 0.0);
        }        
    </inject-code>
    
    <modify-function signature="getInteger(QWidget *, const QString &amp;, const QString &amp;, int, int, int, int, bool *, QFlags&lt;Qt::WindowType>)">
        <rename to="getInteger_internal"/>
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.inputDialog_get_input">
            <replace from="%RETURN_TYPE" to="Integer" />
            <replace from="%EXTRA" to="int value, int minValue, int maxValue, int step" />
            <replace from="%FUNCTION_NAME" to="getInteger" />
            <replace from="%CALL" to="value, minValue, maxValue, step" />
        </insert-template>            

        public static Integer getInteger(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, int value, int minValue, int maxValue) {
            return getInteger(parent, title, label, value, minValue, maxValue, 1);
        }
        
        public static Integer getInteger(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, int value, int minValue) {
            return getInteger(parent, title, label, value, minValue, (int)2147483647);
        }

        public static Integer getInteger(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, int value) {
            return getInteger(parent, title, label, value, (int)-2147483647);
        }

        public static Integer getInteger(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label) {
            return getInteger(parent, title, label, 0);
        }
    </inject-code>
    
    <modify-function signature="getItem(QWidget *, const QString &amp;, const QString &amp;, const QStringList&lt;QString> &amp;, int, bool, bool *, QFlags&lt;Qt::WindowType>)">
        <rename to="getItem_internal"/>
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.inputDialog_get_input">
            <replace from="%RETURN_TYPE" to="String" />
            <replace from="%EXTRA" to="java.util.List&lt;java.lang.String> list, int current, boolean editable" />
            <replace from="%FUNCTION_NAME" to="getItem" />
            <replace from="%CALL" to="list, current, editable" />
        </insert-template>            
        
        public static java.lang.String getItem(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, java.util.List&lt;java.lang.String> list, int current) {
            return getItem(parent, title, label, list, current, true);
        }

        public static java.lang.String getItem(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, java.util.List&lt;java.lang.String> list) {
            return getItem(parent, title, label, list, 0);
        }    
    </inject-code>
    
    <modify-function signature="getText(QWidget *, const QString &amp;, const QString &amp;, QLineEdit::EchoMode, const QString &amp;, bool *, QFlags&lt;Qt::WindowType>)">
        <rename to="getText_internal"/>
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.inputDialog_get_input">
            <replace from="%RETURN_TYPE" to="String" />
            <replace from="%EXTRA" to="com.trolltech.qt.gui.QLineEdit.EchoMode echo, java.lang.String text" />
            <replace from="%FUNCTION_NAME" to="getText" />
            <replace from="%CALL" to="echo, text" />
        </insert-template>            
    

        public static java.lang.String getText(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label, com.trolltech.qt.gui.QLineEdit.EchoMode echo) {
            return getText(parent, title, label, echo, "");
        }
    
        public static java.lang.String getText(com.trolltech.qt.gui.QWidget parent, java.lang.String title, java.lang.String label) {
            return getText(parent, title, label, com.trolltech.qt.gui.QLineEdit.EchoMode.Normal);
        }
    </inject-code>    
  </object-type>
  

  <object-type name="QGraphicsScene">
    <extra-includes>
        <include file-name="QVarLengthArray" location="global" />
    </extra-includes>
    <modify-function signature="addItem(QGraphicsItem *)">
      <modify-argument index="1">
        <define-ownership class="java" owner="c++" />
      </modify-argument>
    </modify-function>   
    <modify-function signature="addEllipse(const QRectF &amp;, const QPen &amp;, const QBrush &amp;)">
      <modify-argument index="return">
        <define-ownership class="java" owner="c++" />
      </modify-argument>
    </modify-function>
    <modify-function signature="addLine(const QLineF &amp;, const QPen &amp;)">
      <modify-argument index="return">
        <define-ownership class="java" owner="c++" />
      </modify-argument>
    </modify-function>
    <modify-function signature="addPath(const QPainterPath &amp;, const QPen &amp;, const QBrush &amp;)">
      <modify-argument index="return">
        <define-ownership class="java" owner="c++" />
      </modify-argument>
    </modify-function>
    <modify-function signature="addPixmap(const QPixmap &amp;)">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++"/>
        </modify-argument>
    </modify-function>
    <modify-function signature="addPolygon(const QPolygonF &amp;, const QPen &amp;, const QBrush &amp;)">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addRect(const QRectF &amp;, const QPen &amp;, const QBrush &amp;)">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addText(const QString &amp;, const QFont &amp;)">
        <modify-argument index="return">
            <define-ownership class="java" owner="c++" />
        </modify-argument>        
    </modify-function>
                   
    <modify-function signature="drawItems(QPainter*,int,QGraphicsItem**,const QStyleOptionGraphicsItem*,QWidget*)">
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="core.get_array_length">
                    <replace from="%ARRAY" to="%3" />
                </insert-template>
                int __length = %out;
            </conversion-rule>
            
        </modify-argument>
    
        <modify-argument index="3">
            <replace-type modified-type="com.trolltech.qt.gui.QGraphicsItemInterface[]" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_graphicsitem_array_to_java">
                    <replace from="%LENGTH" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_graphicsitem_array_from_java" />              
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="4">
            <replace-type modified-type="com.trolltech.qt.gui.QStyleOptionGraphicsItem[]" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_styleoptiongraphicsitem_array_to_java">
                    <replace from="%LENGTH" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_styleoptiongraphicsitem_array_from_java" />
            </conversion-rule>                    
        </modify-argument>
    </modify-function>
  </object-type>


  <object-type name="QCalendarWidget">
    <extra-includes>
      <include file-name="QTextCharFormat" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QTreeWidget">
    <modify-function signature="indexOfTopLevelItem(QTreeWidgetItem *)">
        <remove/>
    </modify-function>
    <modify-function signature="addTopLevelItem(QTreeWidgetItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++"/>
        </modify-argument>
    </modify-function>
    <modify-function signature="addTopLevelItems(const QList&lt;QTreeWidgetItem*> &amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++"/>
        </modify-argument>    
    </modify-function>    
    <modify-function signature="insertTopLevelItem(int, QTreeWidgetItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertTopLevelItems(int, const QList&lt;QTreeWidgetItem*> &amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>        
    <modify-function signature="setHeaderItem(QTreeWidgetItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>                
  </object-type>
  
  <object-type name="QAbstractItemDelegate">
    <modify-function signature="QAbstractItemDelegate(const QAbstractItemDelegate&amp;)">
        <remove/>
    </modify-function>
  </object-type>

  <object-type name="QTableWidgetItem">
    <modify-function signature="clone() const">
        <modify-argument index="return">
            <define-ownership class="shell" owner="c++" />
        </modify-argument>
    </modify-function>    
  </object-type>

  <object-type name="QListWidgetItem">
    <modify-function signature="QListWidgetItem(QListWidget *, int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="QListWidgetItem(const QString &amp;, QListWidget *, int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="QListWidgetItem(const QIcon &amp;, const QString &amp;, QListWidget *, int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>    
    </modify-function>    
    <modify-function signature="clone() const">
        <modify-argument index="return">
            <define-ownership class="shell" owner="c++" />
        </modify-argument>
    </modify-function>
  </object-type>

  <object-type name="QGraphicsTextItem">
    <extra-includes>
      <include file-name="QTextCursor" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QCompleter">
    <modify-function signature="activated(const QModelIndex &amp;)">
        <rename to="activatedIndex"/>
    </modify-function>
    <modify-function signature="highlighted(const QModelIndex &amp;)">
        <rename to="highlightedIndex"/>
    </modify-function>    
  </object-type>


  <object-type name="QTreeWidgetItem">
    <modify-function signature="QTreeWidgetItem(const QTreeWidgetItem &amp;)">
        <remove class="java" />
    </modify-function>
    <modify-function signature="QTreeWidgetItem(QTreeWidget *,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="QTreeWidgetItem(QTreeWidget *,const QStringList&lt;QString> &amp;,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="QTreeWidgetItem(QTreeWidget *,QTreeWidgetItem *,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>        
    <modify-function signature="QTreeWidgetItem(QTreeWidgetItem *,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="QTreeWidgetItem(QTreeWidgetItem *,const QStringList&lt;QString> &amp;,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="QTreeWidgetItem(QTreeWidgetItem *,QTreeWidgetItem *,int)">
        <modify-argument index="this">
            <define-ownership class="java" owner="c++" />
        </modify-argument>    
    </modify-function>            
    <modify-function signature="clone() const">
        <modify-argument index="return">
            <define-ownership class="shell" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addChild(QTreeWidgetItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="addChildren(const QList&lt;QTreeWidgetItem*> &amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="insertChild(int, QTreeWidgetItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertChildren(int, const QList&lt;QTreeWidgetItem*> &amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>        
  </object-type>

  <object-type name="QListWidget">
    <modify-function signature="addItem(QListWidgetItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertItem(int, QListWidgetItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>            
    </modify-function>    
  </object-type>

  <object-type name="QWidget">
    <extra-includes>
        <include file-name="QIcon" location="global"/>
        <include file-name="com.trolltech.qt.QNativePointer" location="java"/>
    </extra-includes>        
    <modify-function signature="getContentsMargins(int*,int*,int*,int*)const  ">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public static class ContentsMargins {
            public ContentsMargins(int left, int top, int right, int bottom) {
                this.left = left;
                this.top = top;
                this.right = right;
                this.bottom = bottom;
            }            
            public int left;
            public int top;
            public int right;
            public int bottom;
        }
        
        @QtBlockedSlot public final ContentsMargins getContentsMargins() {
            QNativePointer left = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer top = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer right = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer bottom = new QNativePointer(QNativePointer.Type.Int);
            
            getContentsMargins(left, top, right, bottom);
            return new ContentsMargins(left.intValue(), top.intValue(), right.intValue(), bottom.intValue());
        }
    </inject-code>
    
  </object-type>


  <object-type name="QMessageBox">
    <extra-includes>
        <include file-name="QPixmap" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QAbstractSpinBox">
    <modify-function signature="initStyleOption(QStyleOptionSpinBox*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionSpinBox" />
            <replace from="final" to="" />
        </insert-template>
    </inject-code>

    <modify-function signature="fixup(QString&amp;)const">
        <modify-argument index="1">
            <replace-type modified-type="java.lang.String" />
            <conversion-rule class="shell">
                jobject %out = (jobject) qtjambi_from_qstring(__jni_env, %in);
            </conversion-rule>
            <conversion-rule class="native">
                QString %out = qtjambi_to_qstring(__jni_env, (jstring) %in);
                QString *__qt_converted = &amp;%out;
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="0">
            <replace-type modified-type="java.lang.String"/>
            <conversion-rule class="native">
                jobject %out = (jobject) qtjambi_from_qstring(__jni_env, *__qt_converted);
            </conversion-rule>
            <conversion-rule class="shell">                
                %1 = qtjambi_to_qstring(__jni_env, (jstring) %in);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
    
    <modify-function signature="validate(QString&amp;,int&amp;)const">               
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QValidator$QValidationData" />
            <conversion-rule class="shell">
                <insert-template name="gui.convert_validationdata_to_java">
                    <replace from="%STRING" to="%1" />
                    <replace from="%POS" to="%2" />
                </insert-template>
            </conversion-rule>
            <conversion-rule class="native">
                <insert-template name="gui.convert_validationdata_to_string" />
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                // nothing needed
            </conversion-rule>            
            <conversion-rule class="native">
                <insert-template name="gui.convert_validationdata_to_pos">
                    <replace from="%VALIDATIONDATA" to="%1" />
                </insert-template>
            </conversion-rule>                        
        </modify-argument>
        
        <modify-argument index="0">
            <conversion-rule class="native">
                <insert-template name="gui.cleanup_validationdata_from_java" />
                jint %out = %in;            
            </conversion-rule>
            <conversion-rule class="shell">
                <insert-template name="gui.cleanup_validationdata_to_java">
                    <replace from="%STRING" to="%1" />
                    <replace from="%POS" to="%2" />
                </insert-template>
                QValidator::State %out = (QValidator::State) qtjambi_to_enumerator(__jni_env, %in);                
            </conversion-rule>                            
        </modify-argument>        
    </modify-function>    
  </object-type>

  <object-type name="QTextFrame">
    <extra-includes>
        <include file-name="QTextCursor" location="global"/>
    </extra-includes>              
  </object-type>

  <object-type name="QImageIOHandler">
    <extra-includes>
        <include file-name="QRect" location="global"/>
    </extra-includes>                
    <modify-function signature="setFormat(const QByteArray &amp;)const">
        <remove/>
    </modify-function>
    <modify-function signature="read(QImage*)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QImage" />
            <conversion-rule class="shell">
                jobject %out = qtjambi_from_object(__jni_env, %in, "QImage", "com/trolltech/qt/gui/", false);
                
                QtJambiLink *__link = %out != 0 ? QtJambiLink::findLink(__jni_env, %out) : 0;                
            </conversion-rule>                
            <conversion-rule class="native">
                QImage *%out = (QImage *) qtjambi_to_object(__jni_env, %in);
            </conversion-rule>                            
        </modify-argument>
        <modify-argument index="0">
            <conversion-rule class="shell">
                // Invalidate object
                if (__link != 0) __link->resetObject(__jni_env);
                bool %out = (bool) %in;
            </conversion-rule>
        </modify-argument>        
    </modify-function>    
  </object-type>
    
  <object-type name="QProxyModel">
    <extra-includes>
        <include file-name="QPixmap" location="global"/>
        <include file-name="QStringList" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>              
  </object-type>

  <object-type name="QImageReader">  
    <extra-includes>
        <include file-name="QColor" location="global"/>
        <include file-name="QRect" location="global"/>
        <include file-name="QSize" location="global"/>
        <include file-name="QStringList" location="global"/>
        <include file-name="QImage" location="global"/>
    </extra-includes>             
    <modify-function signature="read(QImage*) ">
        <remove />
    </modify-function>
    
  </object-type>
  
  <object-type name="QMovie">
    <extra-includes>
        <include file-name="QColor" location="global"/>
        <include file-name="QImage" location="global"/>
        <include file-name="QPixmap" location="global"/>
        <include file-name="QRect" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>   
    <modify-function signature="cacheMode()">
        <remove />
    </modify-function>
  </object-type>
    
  <object-type name="QPageSetupDialog">
  </object-type>

  <object-type name="QTabWidget">
    <modify-function signature="initStyleOption(QStyleOptionTabWidgetFrame*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionTabWidgetFrame" />
        </insert-template>
    </inject-code>  
  </object-type>
  <object-type name="QDrag">
    <extra-includes>
        <include file-name="QPoint" location="global"/>
        <include file-name="QPixmap" location="global"/>
    </extra-includes>                  
  </object-type>
  
  <object-type name="QDateTimeEdit">
    <modify-function signature="initStyleOption(QStyleOptionSpinBox*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionSpinBox" />
        </insert-template>
    </inject-code>    
      
  </object-type>

  <object-type name="QSortFilterProxyModel">
    <extra-includes>
        <include file-name="QItemSelection" location="global"/>
        <include file-name="QStringList" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>            
    <modify-function signature="match(QModelIndex, int, QVariant, int, QFlags&lt;Qt::MatchFlag>) const">
        <modify-argument index="5">
            <replace-default-expression with="Qt.MatchFlag.MatchStartsWith, Qt.MatchFlag.MatchWrap" />
        </modify-argument>
    </modify-function>   
  </object-type>

  <object-type name="QSlider">
    <modify-function signature="initStyleOption(QStyleOptionSlider*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionSlider" />
        </insert-template>
    </inject-code>    
  </object-type>

  <object-type name="QInputContext">
    <extra-includes>
        <include file-name="QTextFormat" location="global"/>
    </extra-includes>        
  </object-type>
  
    
  <object-type name="QProgressDialog">
  </object-type>

  <object-type name="QLabel">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <modify-function signature="picture()const">
        <access modifier="private"/>
        <rename to="picture_private"/>
    </modify-function>
    <inject-code>
        <insert-template name="gui.getter_returning_nativepointer">
            <replace from="%RETURN_TYPE" to="QPicture" />
            <replace from="%FUNCTION_NAME" to="picture" />
        </insert-template>
        
    </inject-code>
    
    <modify-function signature="pixmap()const">
        <access modifier="private"/>
        <rename to="pixmap_private"/>    
    </modify-function>
    <inject-code>
        <insert-template name="gui.getter_returning_nativepointer">
            <replace from="%RETURN_TYPE" to="QPixmap" />
            <replace from="%FUNCTION_NAME" to="pixmap" />
        </insert-template>    
    </inject-code>    
  </object-type>

  <object-type name="QFileDialog">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>
    <inject-code>
        public static class Filter {
            public Filter(String filter) {
                this.filter = filter;
            }
            public String filter;
            public String selectedFilter = "";
        };    
    </inject-code>
    <template name="gui.filedialog_get_xxx_filename">
        public static %TYPE %FUNCTION_NAME(QWidget parent, String caption, String dir, Filter filter, Options options) {
            QNativePointer np = filter != null ? new QNativePointer(QNativePointer.Type.String) : null;
            %TYPE returned = %FUNCTION_NAME(parent, caption, dir, filter != null ? filter.filter : "", np, options);
            if (filter != null) 
                filter.selectedFilter = np.stringValue();
            return returned;
        }
        
        public static %TYPE %FUNCTION_NAME(QWidget parent, String caption, String dir, Filter filter, Option ... options) {
            return %FUNCTION_NAME(parent, caption, dir, filter, new Options(options));
        }
        
        public static %TYPE %FUNCTION_NAME(QWidget parent, String caption, String dir, Filter filter) {
            return %FUNCTION_NAME(parent, caption, dir, filter, new Options(0));
        }

        public static %TYPE %FUNCTION_NAME(QWidget parent, String caption, String dir) {
            return %FUNCTION_NAME(parent, caption, dir, null);
        }
        
        public static %TYPE %FUNCTION_NAME(QWidget parent, String caption) {
            return %FUNCTION_NAME(parent, caption, "");
        }

        public static %TYPE %FUNCTION_NAME(QWidget parent) {
            return %FUNCTION_NAME(parent, "");
        }

        public static %TYPE %FUNCTION_NAME() {
            return %FUNCTION_NAME(null);
        }
                
    </template>
  
    <extra-includes>
        <include file-name="QUrl" location="global" />
    </extra-includes>
    <modify-function signature="getOpenFileName(QWidget*,QString,QString,QString,QString*,QFlags&lt;QFileDialog::Option>)">
        <access modifier="private" />
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="6">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.filedialog_get_xxx_filename">
            <replace from="%FUNCTION_NAME" to="getOpenFileName" />
            <replace from="%TYPE" to="String" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="getOpenFileNames(QWidget*,QString,QString,QString,QString*,QFlags&lt;QFileDialog::Option>)">
        <access modifier="private" />
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="6">
            <remove-default-expression />
        </modify-argument>    
    </modify-function>
    <inject-code>
        <insert-template name="gui.filedialog_get_xxx_filename">
            <replace from="%FUNCTION_NAME" to="getOpenFileNames" />
            <replace from="%TYPE" to="java.util.List&lt;String>" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="getSaveFileName(QWidget*,QString,QString,QString,QString*,QFlags&lt;QFileDialog::Option>)">
        <access modifier="private" />
        <modify-argument index="1">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="3">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="5">
            <remove-default-expression />
        </modify-argument>
        <modify-argument index="6">
            <remove-default-expression />
        </modify-argument>    
    </modify-function>
    <inject-code>
        <insert-template name="gui.filedialog_get_xxx_filename">
            <replace from="%FUNCTION_NAME" to="getSaveFileName" />
            <replace from="%TYPE" to="String" />
        </insert-template>
    </inject-code>    
    
  </object-type>

  <object-type name="QErrorMessage">
  </object-type>

  <object-type name="QTabBar">
    <extra-includes>
        <include file-name="QIcon" location="global"/>
    </extra-includes>        
    <modify-function signature="initStyleOption(QStyleOptionTab*,int)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        public final void initStyleOption(QStyleOptionTab option, int tabIndex) {
            initStyleOption(option.nativePointer(), tabIndex);
        }
    </inject-code>      
  </object-type>

  <object-type name="QStandardItemModel">
    <extra-includes>
        <include file-name="QStringList" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>        
    
    <modify-function signature="appendColumn(const QList&lt;QStandardItem *>&amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="appendRow(const QList&lt;QStandardItem *>&amp;)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="appendRow(QStandardItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>        
    </modify-function>
    <modify-function signature="insertColumn(int, const QList&lt;QStandardItem *>&amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertRow(int, const QList&lt;QStandardItem *>&amp;)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="insertRow(int, QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>        
    </modify-function>
    <modify-function signature="setHorizontalHeaderItem(int, QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="setItem(int, int, QStandardItem *)">
        <modify-argument index="3">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="setItem(int, QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="setItemPrototype(const QStandardItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="setVerticalHeaderItem(int, QStandardItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
  </object-type>

  <object-type name="QRadioButton">
    <modify-function signature="initStyleOption(QStyleOptionButton*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionButton" />
        </insert-template>
    </inject-code>  
  </object-type>

  <object-type name="QScrollBar">
    <modify-function signature="initStyleOption(QStyleOptionSlider*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionSlider" />
        </insert-template>
    </inject-code>    
  </object-type>

  <object-type name="QClipboard">
    <extra-includes>
        <include file-name="QImage" location="global"/>
        <include file-name="QPixmap" location="global"/>
        <include file-name="com.trolltech.qt.QNativePointer" location="java" />
    </extra-includes>      
    <modify-function signature="setMimeData(QMimeData *, QClipboard::Mode)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>
    <modify-function signature="text(QString&amp;,QClipboard::Mode)const">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public static class Text {            
            public String text;
            public String subtype;
        }
        public final Text text(String subtype, Mode mode) {
            QNativePointer np = new QNativePointer(QNativePointer.Type.String);
            np.setStringValue(subtype != null ? subtype : "");            
            
            Text returned = new Text();
            returned.text = text(np, mode);                        
            returned.subtype = np.stringValue();
            return returned;            
        }
        
        public final Text text(String subtype) {
            return text(subtype, Mode.Clipboard);
        }
    </inject-code>        
  </object-type>


  <object-type name="QAbstractScrollArea">
  </object-type>

  <object-type name="QPaintEngineState">
    <extra-includes>
        <include file-name="QPainterPath" location="global"/>
    </extra-includes>        
  </object-type>

  <object-type name="QRubberBand">
    <modify-function signature="initStyleOption(QStyleOptionRubberBand*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionRubberBand" />
        </insert-template>
    </inject-code>  
  </object-type>

  <object-type name="QTextLayout">
    <extra-includes>
        <include file-name="QTextOption" location="global"/>
    </extra-includes>          
  </object-type>  

  <object-type name="QTableWidget">
    <modify-function signature="setHorizontalHeaderItem(int, QTableWidgetItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++"/>
        </modify-argument>
    </modify-function>
    <modify-function signature="setItem(int, int, QTableWidgetItem *)">
        <modify-argument index="3">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="setItemPrototype(const QTableWidgetItem *)">
        <modify-argument index="1">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
    <modify-function signature="setVerticalHeaderItem(int, QTableWidgetItem *)">
        <modify-argument index="2">
            <define-ownership class="java" owner="c++" />
        </modify-argument>
    </modify-function>    
  </object-type>
  
  <object-type name="QTextDocument">
    <extra-includes>
        <include file-name="QTextBlock" location="global"/>
        <include file-name="QTextFormat" location="global"/>
        <include file-name="QTextCursor" location="global"/>
    </extra-includes>  
    <modify-function signature="redo(QTextCursor*)">
        <access modifier="private" />        
    </modify-function>
    <inject-code>
        public final void redo(QTextCursor cursor) {
            redo(cursor.nativePointer());
        }
    </inject-code>
    
    <modify-function signature="undo(QTextCursor*)">
        <access modifier="private" />        
    </modify-function>
    <inject-code>
        public final void undo(QTextCursor cursor) {
            undo(cursor.nativePointer());
        } 
    </inject-code>
    
    
  </object-type>

  <object-type name="QSplitter">
    <extra-includes>
        <include file-name="com.trolltech.qt.QNativePointer" location="java"/>
    </extra-includes>
    <modify-function signature="getRange(int,int*,int*)const">
        <access modifier="private"/>
    </modify-function>
    <inject-code>
        public static class Range {
            public Range(int min, int max) {
                minimum = min;
                maximum = max;
            }
            public int minimum;
            public int maximum;
        }
        public Range getRange(int index) {
            QNativePointer min = new QNativePointer(QNativePointer.Type.Int);
            QNativePointer max = new QNativePointer(QNativePointer.Type.Int);
            
            getRange(index, min, max);
            
            return new Range(min.intValue(), max.intValue());
        }
    </inject-code>
  </object-type>
  
  <object-type name="QGroupBox">
    <modify-function signature="initStyleOption(QStyleOptionGroupBox*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionGroupBox" />
        </insert-template>
    </inject-code>  
  </object-type>

  <object-type name="QStackedWidget">
  </object-type>

  <object-type name="QSplitterHandle">
  </object-type>

  <object-type name="QDial">
    <modify-function signature="initStyleOption(QStyleOptionSlider*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionSlider" />
        </insert-template>
    </inject-code>    
  </object-type>

  <object-type name="QLineEdit">
    <modify-function signature="initStyleOption(QStyleOptionFrame*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionFrame" />
        </insert-template>
    </inject-code>  
  </object-type>
  
  <object-type name="QLCDNumber">
  </object-type>
  
  <object-type name="QSplashScreen">
    <modify-function signature="showMessage(const QString &amp;, int, const QColor &amp;)">
      <modify-argument index="3">
        <replace-default-expression with="QColor.black"/>
      </modify-argument>
    </modify-function>
  </object-type>
  
  
  <object-type name="QDockWidget">
    <modify-function signature="initStyleOption(QStyleOptionDockWidget*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionDockWidget" />
        </insert-template>
    </inject-code>        
  </object-type>

  <object-type name="QAbstractProxyModel">
    <extra-includes>
        <include file-name="QItemSelection" location="global"/>
        <include file-name="QStringList" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QDesktopWidget">
  </object-type>

  <object-type name="QFrame">
  </object-type>

  <object-type name="QTextTable">
    <modify-function signature="format() const">
        <rename to="tableFormat"/>
    </modify-function>
    <extra-includes>
        <include file-name="QTextCursor" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QSpinBox">
    <modify-function signature="valueChanged(const QString &amp;)">
        <rename to="valueStringChanged"/>
    </modify-function>    
  </object-type>  
  
  <object-type name="QTextBrowser">
    <modify-function signature="highlighted(const QString &amp;)">
        <rename to="highlightedString"/>
    </modify-function>
  </object-type>
  
  <object-type name="QDoubleSpinBox">
    <modify-function signature="valueChanged(const QString &amp;)">
        <rename to="valueStringChanged"/>
    </modify-function>
  </object-type>  

  <object-type name="QButtonGroup">
    <modify-function signature="buttonClicked(int)">
        <rename to="buttonIdClicked"/>
    </modify-function>
    <modify-function signature="buttonPressed(int)">
        <rename to="buttonIdPressed"/>
    </modify-function>
    <modify-function signature="buttonReleased(int)">
        <rename to="buttonIdReleased"/>
    </modify-function>
  </object-type>
    
  <object-type name="QToolBar">
  
    <modify-function signature="addAction(QIcon,QString,const QObject*,const char*)">
        <remove />
    </modify-function>
    <inject-code>
        <insert-template name="gui.addAction">
            <replace from="%POST_CALL" to="" />
            <replace from=" %END_EXTRA" to="" />
            <replace from=" %END_CALL_EXTRA" to="" />        
            <replace from="%EXTRA" to="QIcon icon," />
            <replace from="%CALL_EXTRA" to="icon," />            
        </insert-template>        
    </inject-code>
    
    <modify-function signature="addAction(QString,const QObject*,const char*)">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.addAction">
            <replace from="%POST_CALL" to="" />
            <replace from=" %END_EXTRA" to="" />
            <replace from=" %END_CALL_EXTRA" to="" />        
            <replace from="%EXTRA " to="" />
            <replace from="%CALL_EXTRA " to="" />            
        </insert-template>    
    </inject-code>    
  </object-type>
  
  <object-type name="QPaintEngine">
    <extra-includes>
        <include file-name="QVarLengthArray" location="global" />
    </extra-includes>
    
    <modify-function signature="drawLines(const QLine *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QLine[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QLine", "com/trolltech/qt/gui/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QLine, 32> __lines;                
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __lines.append(*(QLine *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QLine *%out = %1 == 0 ? 0 : __lines.constData();                    
            </conversion-rule>
                
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
    
    <modify-function signature="drawLines(const QLineF *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.gui.QLineF[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QLineF", "com/trolltech/qt/gui/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QLineF, 32> __data;                
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QLineF *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QLineF *%out = %1 == 0 ? 0 : __data.constData();                    
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>       
    
    <modify-function signature="drawRects(const QRectF *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QRectF[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QRectF", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QRectF, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QRectF *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QRectF *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
            
    <modify-function signature="drawRects(const QRect *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QRect[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QRect", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QRect, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QRect *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QRect *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
    
    <modify-function signature="drawPoints(const QPoint *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QPoint[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QPoint", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QPoint, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QPoint *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QPoint *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>    
            
    <modify-function signature="drawPoints(const QPointF *, int)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QPointF[]" />
            <conversion-rule class="shell">
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QPointF", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QPointF, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QPointF *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QPointF *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
    
    <modify-function signature="drawPolygon(const QPoint *, int, QPaintEngine::PolygonDrawMode)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QPoint[]" />
            <conversion-rule class="shell">                
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QPoint", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QPoint, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QPoint *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QPoint *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>    
        
    <modify-function signature="drawPolygon(const QPointF *, int, QPaintEngine::PolygonDrawMode)">
        <modify-argument index="1">
            <replace-type modified-type="com.trolltech.qt.core.QPointF[]" />
            <conversion-rule class="shell">                
                jobjectArray %out = qtjambi_from_array(__jni_env, %in, %2, 
                                                       "QPointF", "com/trolltech/qt/core/");
            </conversion-rule>
            <conversion-rule class="native">
                QVarLengthArray&lt;QPointF, 32> __data;
                int __size = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
                for (int i=0; i&lt;__size; ++i)
                    __data.append(*(QPointF *)qtjambi_to_object(__jni_env, __jni_env->GetObjectArrayElement((jobjectArray) %in, i)));
                const QPointF *%out = %1 == 0 ? 0 : __data.constData();
            </conversion-rule>            
        </modify-argument>
        <modify-argument index="2">
            <remove-argument />
            <conversion-rule class="shell">
                /* nothing */
            </conversion-rule>
            <conversion-rule class="native">
                int %out = %1 == 0 ? 0 : __jni_env->GetArrayLength((jarray) %1);
            </conversion-rule>            
        </modify-argument>
    </modify-function>
  </object-type>
  
  <object-type name="QAbstractTableModel">
    <extra-includes>
        <include file-name="QStringList" location="global"/>
        <include file-name="QSize" location="global"/>
    </extra-includes>  
  </object-type>
  
  <object-type name="QMimeData">
    <extra-includes>
        <include file-name="QStringList" location="global"/>
        <include file-name="QUrl" location="global"/>
    </extra-includes>
  </object-type>
  
  <object-type name="QComboBox">
    <modify-function signature="initStyleOption(QStyleOptionComboBox*)const">
        <access modifier="private" />
    </modify-function>
    <inject-code>
        <insert-template name="gui.init_style_option">
            <replace from="%TYPE" to="QStyleOptionComboBox" />
        </insert-template>
    </inject-code>  
    <modify-function signature="activated(int)">>
        <rename to="activatedIndex"/>        
    </modify-function>
    <modify-function signature="currentIndexChanged(const QString &amp;)">
        <rename to="currentStringChanged"/>
    </modify-function>
    <modify-function signature="highlighted(int)">
        <rename to="highlightedIndex"/>
    </modify-function>
  </object-type>  
 
  <object-type name="QTextEdit">
    <extra-includes>
        <include file-name="QTextCursor" location="global"/>
    </extra-includes>
  </object-type>

  <object-type name="QPrinter">
  </object-type>

  <object-type name="QAction">
    <inject-code class="java">
        /**
         * Sets the shortcut to the key sequence for the given key string. For example "Ctrl+O" gives CTRL+'O'. 
         * The strings "Ctrl", "Shift", "Alt" and "Meta" are recognized, as well as their translated equivalents in the 
         * "QShortcut" context (using QObject::tr()). Up to four key codes may be entered by separating them with commas, 
         * e.g. "Alt+X,Ctrl+S,Q".
         * @param key The description of the key sequence. Typically used with tr() so key sequences can be locale aware.
         */
        public void setShortcut(String key) { setShortcut(new QKeySequence(key)); }
        
        /**
         * Sets the shortcut to the key sequence for the given key. The result will depend on the currently running platform.
         * The key sequence will be based on the first element in the list of key bindings for the key. 
         * @param key The key for which to select a key sequence 
         */  
        public void setShortcut(QKeySequence.StandardKey key) { setShortcut(new QKeySequence(key)); }
        
        public void setIcon(QPixmap pm) { setIcon(new QIcon(pm)); }
    </inject-code>
  </object-type>

  <object-type name="QPainter">
    <extra-includes>
      <include file-name="QWidget" location="global"/>
      <include file-name="QPainterPath" location="global"/>
      <include file-name="QPixmap" location="global"/>
    </extra-includes>
    <inject-code class="java">
    public void setBrush(QColor color) { setBrush(new QBrush(color)); }
    public void setBrush(QGradient gradient) { setBrush(new QBrush(gradient)); }
    public void setBrush(QPixmap pm) { setBrush(new QBrush(pm)); }
    </inject-code>
    <modify-function signature="drawConvexPolygon(const QPoint *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawConvexPolygon(const QPointF *, int)">
        <remove />
    </modify-function>    
    <modify-function signature="drawLines(const QLine *, int)">
        <remove />
    </modify-function>    
    <modify-function signature="drawLines(const QLineF *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawLines(const QPoint *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawLines(const QPointF *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawPoints(const QPoint *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawPoints(const QPointF *, int)">
        <remove />
    </modify-function>    
    <modify-function signature="drawPolygon(const QPoint *, int, Qt::FillRule)">
        <remove />
    </modify-function>
    <modify-function signature="drawPolygon(const QPointF *, int, Qt::FillRule)">
        <remove />
    </modify-function>    
    <modify-function signature="drawPolyline(const QPoint *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawPolyline(const QPointF *, int)">
        <remove />
    </modify-function>    
    <modify-function signature="drawRects(const QRect *, int)">
        <remove />
    </modify-function>
    <modify-function signature="drawRects(const QRectF *, int)">
        <remove />
    </modify-function>    
    <modify-function signature="drawLines(const QVector&lt;QPoint> &amp;)">
        <rename to="drawLinesFromPoints"/>
    </modify-function>    
    <modify-function signature="drawLines(const QVector&lt;QPointF> &amp;)">
        <rename to="drawLinesFromPointsF"/>
    </modify-function>
    <modify-function signature="drawLines(const QVector&lt;QLineF> &amp;)">
        <rename to="drawLinesF"/>
    </modify-function>
    <modify-function signature="drawRects(const QVector&lt;QRectF> &amp;)">
        <rename to="drawRectsF"/>
    </modify-function>    

    <template name="gui.painter_draw_text_general">
        public final void drawText(%RECT_ARGUMENTS, int flags, String text, %RECT_TYPE boundingRect) {
            drawText(%RECT_CALL_ARGUMENTS, flags, text, boundingRect == null ? null : boundingRect.nativePointer());
        }
        
        public final void drawText(%RECT_ARGUMENTS, int flags, String text) {
            drawText(%RECT_CALL_ARGUMENTS, flags, text, (%RECT_TYPE) null);
        }    
    </template>    
    
    <template name="gui.painter_draw_text_qrect">
        <insert-template name="gui.painter_draw_text_general">
            <replace from="%RECT_ARGUMENTS" to="%RECT_TYPE rectangle" />
            <replace from="%RECT_CALL_ARGUMENTS" to="rectangle" />
        </insert-template>
    </template>
    <modify-function signature="drawText(QRect,int,QString,QRect*)">
        <access modifier="private" />
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>        
    </modify-function>
    <inject-code>
        <insert-template name="gui.painter_draw_text_qrect">
            <replace from="%RECT_TYPE" to="com.trolltech.qt.core.QRect" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="drawText(QRectF,int,QString,QRectF*)">
        <access modifier="private" />
        <modify-argument index="4">
            <remove-default-expression />
        </modify-argument>            
    </modify-function>
    <inject-code>
        <insert-template name="gui.painter_draw_text_qrect">
            <replace from="%RECT_TYPE" to="com.trolltech.qt.core.QRectF" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="drawText(int,int,int,int,int,QString,QRect*)">
        <access modifier="private" />
        <modify-argument index="7">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        <insert-template name="gui.painter_draw_text_general">
            <replace from="%RECT_TYPE" to="com.trolltech.qt.core.QRect" />
            <replace from="%RECT_ARGUMENTS" to="int x, int y, int width, int height" />
            <replace from="%RECT_CALL_ARGUMENTS" to="x, y, width, height" />
        </insert-template>
    </inject-code>
    
    <modify-function signature="redirected(const QPaintDevice*,QPoint*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public static QPaintDeviceInterface redirected(QPaintDeviceInterface device, com.trolltech.qt.core.QPoint offset) {
            return redirected(device, offset == null ? null : offset.nativePointer());
        }
    </inject-code>
        
    <inject-code>
    public QPainter(QWidget widget) {
        this();
        begin(widget);  
    }

    public boolean begin(QWidget widget) {
        return com.trolltech.qt.QtJambiInternal.beginPaint(widget, this);
    }
    </inject-code>
  </object-type>  
    
  <object-type name="QApplication">
    <extra-includes>
      <include file-name="QBasicTimer" location="global"/>
      <include file-name="qtjambi_cache.h" location="local"/>
      <include file-name="QFont" location="global"/>
      <include file-name="QFontMetrics" location="global"/>
      <include file-name="QPalette" location="global"/>
      <include file-name="QIcon" location="global"/>
      <include file-name="QLocale" location="global"/>
      <include file-name="com.trolltech.qt.QNativePointer" location="java"/>
    </extra-includes>  
    <inject-code class="java">
    public static void initialize(String args[])
    {
        if (m_instance != null)
            throw new RuntimeException("QApplication can only be initialized once");
            
        m_instance = new QApplication(args);
        m_instance.aboutToQuit.connect(m_instance, "disposeOfMyself()");
    }
    
    public static void aboutQtJambi() {
        com.trolltech.qt.QtJambiInternal.aboutQtJambi();
    }

    public static QApplication instance() {
        if (type() != Type.Tty)
            return (QApplication) com.trolltech.qt.core.QCoreApplication.instance();
        return null;
    }
    </inject-code>
    <inject-code class="java">
    public QApplication(String args[])         
    {
        this(argc(args), argv(args));        
    }
    </inject-code>
    <modify-function signature="QApplication(int &amp;, char  **, int)">
        <access modifier="private"/>
    </modify-function>    
    <modify-function signature="QApplication(int &amp;, char **, QApplication::Type, int)">
	    <remove/>
    </modify-function>
    <modify-function signature="QApplication(int &amp;, char **, bool, int)">
	    <remove/>
    </modify-function>
    
    <template name="gui.application_char_pointer_function">
        public static %RETURN_TYPE %FUNCTION_NAME(%PRE_ARGUMENTS %COMMA QByteArray className) {
            return %FUNCTION_NAME(%PRE_CALL_ARGUMENTS %COMMA className == null ? null : className.data());
        }
    </template>       
        
    <modify-function signature="font(const char*)">
        <remove />
    </modify-function>
    <modify-function signature="setFont(QFont,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public static void setFont(QFont font) {
            setFont(font, null);
        }
    </inject-code>
    <modify-function signature="palette(const char*)">
        <remove />
    </modify-function>
    <modify-function signature="setPalette(QPalette,const char*)">
        <access modifier="private" />
        <modify-argument index="2">
            <remove-default-expression />
        </modify-argument>
    </modify-function>
    <inject-code>
        public static void setPalette(QPalette palette) {
            setPalette(palette, null);
        }
    </inject-code>
    
    <modify-function signature="overrideCursor()">
        <access modifier="private" />
        <rename to="overrideCursor_private" />
    </modify-function>
    <inject-code>
        public static QCursor overrideCursor() {
            QNativePointer np = overrideCursor_private();
            return np == null ? null : QCursor.fromNativePointer(np);
        }
    </inject-code>            
  </object-type>

  <suppress-warning text="WARNING(MetaJavaBuilder) :: type '*' is specified in typesystem, but not declared" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type '*Private&amp;'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type '*Private\*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type '*Private const\*'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QTextEngine\*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QFontEngine\*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QPixmap::Type'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QInputDialog::Type'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QTextFrameLayoutData\*'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type 'QAbstractUndoItem\*'"/>
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping * unmatched *type '*QImageTextKeyLang*'"/>
  <suppress-warning text="WARNING(MetaJavaBuilder) :: non-public function '*' in interface '*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: visibility of function '*' modified in class '*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: hiding of function '*' in class '*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unsupported default value 'QVector&lt;FormatRange&gt;()' of argument in function '*', class '*'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unsupported default value 'QVariantList()' of argument in function '*', class '*'" />  
  <suppress-warning text="WARNING(CppImplGenerator) :: protected function '*' in final class '*'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping function 'QTextLayout::QTextLayout', unmatched parameter type 'QTextEngine*'" />    
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unsupported default value of argument in function 'doAction', class 'QAccessibleInterface'" />  
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping function 'QFileDialog::QFileDialog', unmatched parameter type 'QFileDialogArgs const&amp;'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unsupported default value '0., 0., 1000000000., 1000000000.' of argument in function 'update', class 'QAbstractTextDocumentLayout'" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping function 'QWidget::windowSurface', unmatched return type 'QWindowSurface*'"/>
  <suppress-warning text="WARNING(MetaJavaBuilder) :: skipping function 'QWidget::setWindowSurface', unmatched parameter type 'QWindowSurface*'"/>
  <suppress-warning text="WARNING(MetaJavaBuilder) :: enum 'QStyleOption::StyleOptionType' does not have a type entry or is not an enum"/>
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unhandled enum value: ~FlagMask in QMessageBox::StandardButton" />
  <suppress-warning text="WARNING(MetaJavaBuilder) :: unmatched enum ~FlagMask" />
  <suppress-warning text="WARNING(MetaInfoGenerator) :: class 'QGraphicsSceneEvent' inherits from polymorphic class 'QEvent', but has no polymorphic id set" />
  <suppress-warning text="WARNING(MetaInfoGenerator) :: class 'QInputEvent' inherits from polymorphic class 'QEvent', but has no polymorphic id set" />
  
</typesystem>
